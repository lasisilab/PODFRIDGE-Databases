<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Tina Lasisi | Edited: João P. Donadio">
<meta name="dcterms.date" content="2025-08-08">

<title>NDIS Database Analysis – PODFRIDGE‑Databases</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-985aa47af68dae11cd4d235c71fb941e.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-dfb324f25d9b1687192fa8be62ac8f9c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../site_libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">

<script src="../site_libs/tabwid-1.1.3/tabwid.js"></script>

<script src="../site_libs/kePrint-0.0.1/kePrint.js"></script>

<link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">

<link href="../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="../site_libs/plotly-binding-4.10.4/plotly.js"></script>

<script src="../site_libs/typedarray-0.1/typedarray.min.js"></script>

<script src="../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>

<link href="../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>

<link href="../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">

<script src="../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>

<link href="../site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">

<script src="../site_libs/leaflet-1.3.1/leaflet.js"></script>

<link href="../site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">

<script src="../site_libs/proj4-2.6.2/proj4.min.js"></script>

<script src="../site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>

<link href="../site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">

<script src="../site_libs/leaflet-binding-2.2.2/leaflet.js"></script>

<link href="../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">

<script src="../site_libs/datatables-binding-0.33/datatables.js"></script>

<link href="../site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">

<link href="../site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">

<script src="../site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>

<script src="../site_libs/jszip-1.13.6/jszip.min.js"></script>

<link href="../site_libs/dt-ext-buttons-1.13.6/css/buttons.dataTables.min.css" rel="stylesheet">

<script src="../site_libs/dt-ext-buttons-1.13.6/js/dataTables.buttons.min.js"></script>

<script src="../site_libs/dt-ext-buttons-1.13.6/js/buttons.html5.min.js"></script>

<script src="../site_libs/dt-ext-buttons-1.13.6/js/buttons.colVis.min.js"></script>

<script src="../site_libs/dt-ext-buttons-1.13.6/js/buttons.print.min.js"></script>

<link href="../site_libs/dt-ext-colreorder-1.13.6/css/colReorder.dataTables.min.css" rel="stylesheet">

<script src="../site_libs/dt-ext-colreorder-1.13.6/js/dataTables.colReorder.min.js"></script>

<link href="../site_libs/dt-ext-scroller-1.13.6/css/scroller.dataTables.min.css" rel="stylesheet">

<script src="../site_libs/dt-ext-scroller-1.13.6/js/dataTables.scroller.min.js"></script>

<link href="../site_libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">

<script src="../site_libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>

<link href="../site_libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">

<script src="../site_libs/selectize-0.12.0/selectize.min.js"></script>



<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">PODFRIDGE‑Databases</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../site/index.qmd"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../site/about.qmd"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-analyses" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Analyses</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-analyses">    
        <li>
    <a class="dropdown-item" href="../analysis/ndis_scraping.html">
 <span class="dropdown-text">NDIS analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../analysis/foia_processing.html">
 <span class="dropdown-text">FOIA processing</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#pipeline-overview" id="toc-pipeline-overview" class="nav-link" data-scroll-target="#pipeline-overview">Pipeline Overview</a></li>
  <li><a href="#setup-configuration" id="toc-setup-configuration" class="nav-link" data-scroll-target="#setup-configuration">Setup and Configuration</a>
  <ul class="collapse">
  <li><a href="#system-requirements" id="toc-system-requirements" class="nav-link" data-scroll-target="#system-requirements">System Requirements</a></li>
  <li><a href="#project-structure" id="toc-project-structure" class="nav-link" data-scroll-target="#project-structure">Project Structure</a></li>
  </ul></li>
  <li><a href="#WMSS" id="toc-WMSS" class="nav-link" data-scroll-target="#WMSS">Wayback Machine Snapshot Search</a>
  <ul class="collapse">
  <li><a href="#scrap-method" id="toc-scrap-method" class="nav-link" data-scroll-target="#scrap-method">Scraping Method</a></li>
  <li><a href="#technical-impl" id="toc-technical-impl" class="nav-link" data-scroll-target="#technical-impl">Technical Implementation</a></li>
  <li><a href="#core-search" id="toc-core-search" class="nav-link" data-scroll-target="#core-search">Core Search Implementation</a></li>
  <li><a href="#execution-search" id="toc-execution-search" class="nav-link" data-scroll-target="#execution-search">Search Execution</a></li>
  </ul></li>
  <li><a href="#downloaderSnap" id="toc-downloaderSnap" class="nav-link" data-scroll-target="#downloaderSnap">Snapshot Downloader</a>
  <ul class="collapse">
  <li><a href="#download-method" id="toc-download-method" class="nav-link" data-scroll-target="#download-method">Download methods</a></li>
  <li><a href="#tech-proc" id="toc-tech-proc" class="nav-link" data-scroll-target="#tech-proc">Technical Process</a></li>
  <li><a href="#download-code" id="toc-download-code" class="nav-link" data-scroll-target="#download-code">Downloader Code</a></li>
  <li><a href="#download-exec" id="toc-download-exec" class="nav-link" data-scroll-target="#download-exec">Download Execution</a></li>
  <li><a href="#download-validation" id="toc-download-validation" class="nav-link" data-scroll-target="#download-validation">Download Validation</a></li>
  </ul></li>
  <li><a href="#extraction-pipe" id="toc-extraction-pipe" class="nav-link" data-scroll-target="#extraction-pipe">Data Extraction</a>
  <ul class="collapse">
  <li><a href="#parser-functions" id="toc-parser-functions" class="nav-link" data-scroll-target="#parser-functions">Core Parser Functions</a></li>
  <li><a href="#era-parsers" id="toc-era-parsers" class="nav-link" data-scroll-target="#era-parsers">Era-Specific Parsers</a></li>
  <li><a href="#main-processor" id="toc-main-processor" class="nav-link" data-scroll-target="#main-processor">Snapshot Processing</a></li>
  <li><a href="#batch-processing" id="toc-batch-processing" class="nav-link" data-scroll-target="#batch-processing">Batch Processing</a></li>
  <li><a href="#exp-valid" id="toc-exp-valid" class="nav-link" data-scroll-target="#exp-valid">Export &amp; Validation</a></li>
  <li><a href="#validation" id="toc-validation" class="nav-link" data-scroll-target="#validation">Data Validation</a></li>
  </ul></li>
  <li><a href="#datacleaning" id="toc-datacleaning" class="nav-link" data-scroll-target="#datacleaning">Data Cleaning</a>
  <ul class="collapse">
  <li><a href="#dtype_stand" id="toc-dtype_stand" class="nav-link" data-scroll-target="#dtype_stand">Data Type Standardization</a></li>
  <li><a href="#jurisdic_names" id="toc-jurisdic_names" class="nav-link" data-scroll-target="#jurisdic_names">Jurisdiction Name Reconciliation</a></li>
  <li><a href="#export-dataset" id="toc-export-dataset" class="nav-link" data-scroll-target="#export-dataset">Export Cleaned Dataset</a></li>
  </ul></li>
  <li><a href="#summarystats" id="toc-summarystats" class="nav-link" data-scroll-target="#summarystats">Summary Statistics</a>
  <ul class="collapse">
  <li><a href="#EDA" id="toc-EDA" class="nav-link" data-scroll-target="#EDA">Exploratory Data Analysis</a></li>
  <li><a href="#summary_table" id="toc-summary_table" class="nav-link" data-scroll-target="#summary_table">Summary Statistics Table</a></li>
  </ul></li>
  <li><a href="#visualiz" id="toc-visualiz" class="nav-link" data-scroll-target="#visualiz">Data Visualization</a>
  <ul class="collapse">
  <li><a href="#time_series" id="toc-time_series" class="nav-link" data-scroll-target="#time_series">Time-Series Analysis</a></li>
  <li><a href="#geomap_juris" id="toc-geomap_juris" class="nav-link" data-scroll-target="#geomap_juris">Geospatial mapping of jurisdiction participation</a></li>
  <li><a href="#interactive-explore" id="toc-interactive-explore" class="nav-link" data-scroll-target="#interactive-explore">Interactive Exploration</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">NDIS Database Analysis</h1>
<p class="subtitle lead">Parsing FBI National DNA Index System Statistics from Wayback Machine</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Tina Lasisi | Edited: João P. Donadio </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 8, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>The National DNA Index System (NDIS) represents a critical law enforcement tool that enables forensic laboratories across the United States to exchange and compare DNA profiles electronically. This project systematically analyzes the growth and evolution of the NDIS database by parsing historical snapshots of FBI statistics archived in the Wayback Machine, a digital library of Internet sites and other cultural artifacts in digital form.</p>
<p><strong>Objectives:</strong></p>
<ol type="1">
<li><p>Develop a reproducible pipeline to extract NDIS statistics from 300+ HTML snapshots (2010-2025)</p></li>
<li><p>Identify and correct data quality issues in historical records</p></li>
<li><p>Document the expansion of DNA profiles (offender, arrestee, forensic) over time</p></li>
<li><p>Analyze participation trends across jurisdictions in the United States</p></li>
</ol>
<p><strong>Significance:</strong> This longitudinal analysis provides unique insights into the scaling of forensic DNA capabilities in the United States, with implications for understanding:</p>
<ul>
<li><p>Criminal justice policy implementation</p></li>
<li><p>Forensic resource allocation</p></li>
<li><p>Privacy and civil liberties considerations</p></li>
<li><p>Technological adoption in law enforcement</p></li>
</ul>
</section>
<section id="pipeline-overview" class="level2">
<h2 class="anchored" data-anchor-id="pipeline-overview">Pipeline Overview</h2>
<ol type="1">
<li><a href="#setup-configuration">Setup &amp; Configuration</a>
<ul>
<li><a href="#system-requirements">System Requirements</a><br>
</li>
<li><a href="#project-structure">Project Structure</a></li>
</ul></li>
<li><a href="#WMSS">Wayback Machine Snapshot Search</a>
<ul>
<li><a href="#scrap-method">Scraping Method</a></li>
<li><a href="#technical-impl">Technical Implementation</a></li>
<li><a href="#core-search">Core Search Implementation</a></li>
<li><a href="#execution-search">Search Execution</a></li>
</ul></li>
<li><a href="#downloaderSnap">Snapshot Downloader</a>
<ul>
<li><a href="#download-method">Download Methods</a></li>
<li><a href="#tech-proc">Technical Process</a></li>
<li><a href="#download-code">Downloader Code</a></li>
<li><a href="#download-exec">Download Execution</a></li>
<li><a href="#download-validation">Download Validation</a></li>
</ul></li>
<li><a href="#extraction-pipe">Data Extraction Pipeline</a>
<ul>
<li><a href="#parser-functions">Core Parser Functions</a></li>
<li><a href="#era-parsers">Era-Specific Parsers</a></li>
<li><a href="#main-processor">Snapshot Processing</a></li>
<li><a href="#batch-processing">Batch Processing</a></li>
<li><a href="#exp-valid">Export &amp; Validation</a></li>
</ul></li>
<li><a href="#validation">Dataset Validation</a>
<ul>
<li><a href="#cross-valid">Cross-language validation (Python → R) for consistency checks</a></li>
<li><a href="#import-valid">Data Import and Validation</a></li>
</ul></li>
<li><a href="#datacleaning">Dataset cleaning</a>
<ul>
<li><a href="#dtype_stand">Data Type Standardization</a></li>
<li><a href="#jurisdic_names">Jurisdiction Name Reconciliation</a></li>
<li><a href="#export-dataset">Export Cleaned Dataset</a></li>
</ul></li>
<li><a href="#summarystats">Summary Statistics</a>
<ul>
<li><a href="#EDA">Exploratory Data Analysis</a></li>
<li><a href="#summary_table">Summary Statistics Table</a></li>
</ul></li>
<li><a href="#visualiz">Data Visualization</a>
<ul>
<li><a href="#time_series">Time-Series Analysis</a></li>
<li><a href="#geomap_juris">Geospatial mapping of jurisdiction participation</a></li>
<li><a href="#interactive-explore">Interactive table of profile growth</a></li>
</ul></li>
<li><a href="#conclusion">Conclusion</a></li>
</ol>
</section>
<section id="setup-configuration" class="level2">
<h2 class="anchored" data-anchor-id="setup-configuration">Setup and Configuration</h2>
<section id="system-requirements" class="level3">
<h3 class="anchored" data-anchor-id="system-requirements">System Requirements</h3>
<p><strong>Required Packages:</strong></p>
<pre><code>- Core: requests, beautifulsoup4, and lxml (scraping/parsing).

- Data/Visualization: pandas and tqdm (progress tracking).</code></pre>
<div class="cell">
<details class="code-fold">
<summary>Show Configuration code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> subprocess</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> importlib</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>required_packages <span class="op">=</span> [</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'requests'</span>,         <span class="co"># API/HTTP</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'beautifulsoup4'</span>,   <span class="co"># HTML parsing</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'lxml'</span>,             <span class="co"># Faster parsing (optional but recommended)</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pandas'</span>,           <span class="co"># Data handling</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'tqdm'</span>              <span class="co"># Progress bars</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> package <span class="kw">in</span> required_packages:</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>        importlib.import_module(package)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"✓ </span><span class="sc">{</span>package<span class="sc">}</span><span class="ss"> already installed"</span>)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">ImportError</span>:</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Installing </span><span class="sc">{</span>package<span class="sc">}</span><span class="ss">..."</span>)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>        subprocess.check_call([sys.executable, <span class="st">"-m"</span>, <span class="st">"pip"</span>, <span class="st">"install"</span>, package])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="project-structure" class="level3">
<h3 class="anchored" data-anchor-id="project-structure">Project Structure</h3>
<p><strong>Main Configurations:</strong></p>
<pre><code>- Directory paths for raw HTML (wayback_html), metadata (wayback_meta), and outputs (ndis).

- Standardization mappings for jurisdiction names and known data typos.</code></pre>
<div class="cell">
<details class="code-fold">
<summary>Show Configuration code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pathlib <span class="im">import</span> Path</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re, json, requests, time</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> datetime</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> tqdm.auto <span class="im">import</span> tqdm</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Configuration</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>BASE_DIR <span class="op">=</span> Path(<span class="st">".."</span>)  <span class="co"># Project root directory</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>HTML_DIR <span class="op">=</span> BASE_DIR <span class="op">/</span> <span class="st">"raw"</span> <span class="op">/</span> <span class="st">"wayback_html"</span>    <span class="co"># Storage for downloaded HTML</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>META_DIR <span class="op">=</span> BASE_DIR <span class="op">/</span> <span class="st">"raw"</span> <span class="op">/</span> <span class="st">"wayback_meta"</span>    <span class="co"># Metadata storage</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>OUTPUT_DIR <span class="op">=</span> BASE_DIR <span class="op">/</span> <span class="st">"output"</span> <span class="op">/</span> <span class="st">"ndis"</span>       <span class="co"># Processed data output</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Create directory structure</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> directory <span class="kw">in</span> [HTML_DIR, META_DIR, OUTPUT_DIR]:</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    directory.mkdir(parents<span class="op">=</span><span class="va">True</span>, exist_ok<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Project directories initialized:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  - Working directory: C:\Users\Donadio\Documents\PODFRIDGE\PODFRIDGE-Databases</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  - HTML storage: ..\raw\wayback_html</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  - Metadata directory: ..\raw\wayback_meta</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  - Output directory: ..\output\ndis</code></pre>
</div>
</div>
</section>
</section>
<section id="WMSS" class="level2">
<h2 class="anchored" data-anchor-id="WMSS">Wayback Machine Snapshot Search</h2>
<p>A function was developed to systematically searches the Internet Archive’s Wayback Machine for all preserved snapshots of FBI NDIS statistics pages using a comprehensive multi-phase approach.</p>
<section id="scrap-method" class="level3">
<h3 class="anchored" data-anchor-id="scrap-method">Scraping Method</h3>
<ol type="1">
<li><strong>Multi-Phase Search Strategy</strong>:</li>
</ol>
<ul>
<li><p>First searches broad wildcard patterns (e.g., <code>*.fbi.gov/*ndis*</code>)</p></li>
<li><p>Then targets specific known URL paths with exact matching</p></li>
<li><p>Handles both HTTP and HTTPS protocol variants</p></li>
</ul>
<ol start="2" type="1">
<li><strong>Intelligent Filtering</strong>:</li>
</ol>
<ul>
<li><p>Only returns successful captures (HTTP 200)</p></li>
<li><p>Excludes non-HTML content (PDFs, images)</p></li>
<li><p>Limits to 10,000 results per query</p></li>
</ul>
<ol start="3" type="1">
<li><strong>Robust Error Handling</strong>:</li>
</ol>
<ul>
<li><p>Automatic retries with exponential backoff (1s → 2s → 4s delays)</p></li>
<li><p>Deduplicates results by timestamp</p></li>
<li><p>Preserves complete error context for troubleshooting</p></li>
</ul>
</section>
<section id="technical-impl" class="level3">
<h3 class="anchored" data-anchor-id="technical-impl">Technical Implementation</h3>
<ol type="1">
<li><strong>API Request Flow</strong>:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>    params <span class="op">=</span> {</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>        <span class="st">"url"</span>: pattern,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"matchType"</span>: <span class="st">"wildcard"</span> <span class="cf">if</span> <span class="st">"*"</span> <span class="kw">in</span> pattern <span class="cf">else</span> <span class="st">"exact"</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"output"</span>: <span class="st">"json"</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">"fl"</span>: <span class="st">"timestamp,original,mimetype,statuscode"</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"limit"</span>: <span class="st">"10000"</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li><strong>Result Processing</strong>:</li>
</ol>
<ul>
<li><p>Converts JSON responses to clean DataFrame</p></li>
<li><p>Maintains lookup of seen timestamps to prevent duplicates</p></li>
<li><p>Sorts chronologically (oldest → newest)</p></li>
</ul>
<ol start="3" type="1">
<li><strong>Usage Example</strong></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize search with known URL patterns</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>snap_df <span class="op">=</span> search_all_ndis_snapshots()</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Results contain all historical versions</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Found </span><span class="sc">{</span><span class="bu">len</span>(snap_df)<span class="sc">}</span><span class="ss"> snapshots from </span><span class="sc">{</span>snap_df[<span class="st">'original'</span>]<span class="sc">.</span>nunique()<span class="sc">}</span><span class="ss"> URL patterns"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="4" type="1">
<li><strong>Best Practices</strong></li>
</ol>
<ul>
<li><p><strong>Rate Limiting</strong>: Natural 1-2 second pauses between requests</p></li>
<li><p><strong>Time Format</strong>: All timestamps in UTC (<strong><code>YYYYMMDDhhmmss</code></strong>)</p></li>
<li><p><strong>Error Recovery</strong>: Failed searches are logged with specific patterns</p></li>
<li><p><strong>Completeness</strong>: Combines both broad and targeted searches</p></li>
</ul>
</section>
<section id="core-search" class="level3">
<h3 class="anchored" data-anchor-id="core-search">Core Search Implementation</h3>
<ul>
<li><p>make_request_with_retry(): Implements exponential backoff (1s → 2s → 4s delays) for fault-tolerant API requests</p></li>
<li><p>search_all_ndis_snapshots(): Executes a comprehensive search across:</p>
<ul>
<li>Phase 1: Wildcard patterns (<em>.fbi.gov/</em>/ndis-statistics*)<br>
</li>
<li>Phase 2: 8 exact URL variants (HTTP/HTTPS × 4 historical paths)</li>
</ul></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Show search function code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> make_request_with_retry(params, max_retries<span class="op">=</span><span class="dv">3</span>, initial_delay<span class="op">=</span><span class="dv">1</span>):</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    API_URL <span class="op">=</span> <span class="st">"https://web.archive.org/cdx/search/cdx"</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    delay <span class="op">=</span> initial_delay</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> attempt <span class="kw">in</span> <span class="bu">range</span>(max_retries):</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>            resp <span class="op">=</span> requests.get(API_URL, params<span class="op">=</span>params, timeout<span class="op">=</span><span class="dv">30</span>)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>            resp.raise_for_status()</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> resp</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> requests.exceptions.RequestException <span class="im">as</span> e:</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> attempt <span class="op">==</span> max_retries <span class="op">-</span> <span class="dv">1</span>:</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(<span class="ss">f"Final attempt failed for </span><span class="sc">{</span>params[<span class="st">'url'</span>]<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span><span class="bu">str</span>(e)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>            time.sleep(delay)</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>            delay <span class="op">*=</span> <span class="dv">2</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> search_all_ndis_snapshots():</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>    protocols <span class="op">=</span> [<span class="st">"http://"</span>, <span class="st">"https://"</span>]</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>    subdomains <span class="op">=</span> [<span class="st">"www"</span>, <span class="st">"le"</span>, <span class="st">"*"</span>]</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>    known_paths <span class="op">=</span> [</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>        <span class="st">"www.fbi.gov/about-us/lab/codis/ndis-statistics"</span>,</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>        <span class="st">"www.fbi.gov/about-us/laboratory/biometric-analysis/codis/ndis-statistics"</span>,</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>        <span class="st">"www.fbi.gov/services/laboratory/biometric-analysis/codis/ndis-statistics"</span>,</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>        <span class="st">"le.fbi.gov/science-and-lab/biometrics-and-fingerprints/codis/codis-ndis-statistics"</span>,</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>    all_rows <span class="op">=</span> []</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>    seen_timestamps <span class="op">=</span> <span class="bu">set</span>()</span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Phase 1: Wildcard searches</span></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> protocol <span class="kw">in</span> protocols:</span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> subdomain <span class="kw">in</span> subdomains:</span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>            current_pattern <span class="op">=</span> <span class="ss">f"</span><span class="sc">{</span>protocol<span class="sc">}{</span>subdomain<span class="sc">}</span><span class="ss">.fbi.gov/*ndis-statistics*"</span></span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>            offset <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>            <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>                params <span class="op">=</span> {</span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"url"</span>: current_pattern,</span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"matchType"</span>: <span class="st">"wildcard"</span>,</span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"output"</span>: <span class="st">"json"</span>,</span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"fl"</span>: <span class="st">"timestamp,original,mimetype,statuscode"</span>,</span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"filter"</span>: [<span class="st">"statuscode:200"</span>, <span class="st">"mimetype:text/html"</span>],</span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"limit"</span>: <span class="st">"5000"</span>,</span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"offset"</span>: <span class="bu">str</span>(offset),</span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a>                }</span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a>                </span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a>                resp <span class="op">=</span> make_request_with_retry(params)</span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="kw">not</span> resp: <span class="cf">break</span></span>
<span id="cb12-48"><a href="#cb12-48" aria-hidden="true" tabindex="-1"></a>                data <span class="op">=</span> resp.json()</span>
<span id="cb12-49"><a href="#cb12-49" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="bu">len</span>(data) <span class="op">&lt;=</span> <span class="dv">1</span>: <span class="cf">break</span></span>
<span id="cb12-50"><a href="#cb12-50" aria-hidden="true" tabindex="-1"></a>                </span>
<span id="cb12-51"><a href="#cb12-51" aria-hidden="true" tabindex="-1"></a>                new_rows <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb12-52"><a href="#cb12-52" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> row <span class="kw">in</span> data[<span class="dv">1</span>:]:</span>
<span id="cb12-53"><a href="#cb12-53" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">if</span> row[<span class="dv">0</span>] <span class="kw">not</span> <span class="kw">in</span> seen_timestamps:</span>
<span id="cb12-54"><a href="#cb12-54" aria-hidden="true" tabindex="-1"></a>                        all_rows.append(row)</span>
<span id="cb12-55"><a href="#cb12-55" aria-hidden="true" tabindex="-1"></a>                        seen_timestamps.add(row[<span class="dv">0</span>])</span>
<span id="cb12-56"><a href="#cb12-56" aria-hidden="true" tabindex="-1"></a>                        new_rows <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb12-57"><a href="#cb12-57" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(<span class="ss">f"Found </span><span class="sc">{</span>new_rows<span class="sc">}</span><span class="ss"> new snapshots for </span><span class="sc">{</span>current_pattern<span class="sc">}</span><span class="ss"> (offset </span><span class="sc">{</span>offset<span class="sc">}</span><span class="ss">)"</span>)</span>
<span id="cb12-58"><a href="#cb12-58" aria-hidden="true" tabindex="-1"></a>                </span>
<span id="cb12-59"><a href="#cb12-59" aria-hidden="true" tabindex="-1"></a>                offset <span class="op">+=</span> <span class="dv">5000</span></span>
<span id="cb12-60"><a href="#cb12-60" aria-hidden="true" tabindex="-1"></a>                time.sleep(<span class="fl">1.5</span>)</span>
<span id="cb12-61"><a href="#cb12-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-62"><a href="#cb12-62" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Phase 2: Exact URL searches</span></span>
<span id="cb12-63"><a href="#cb12-63" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> path <span class="kw">in</span> known_paths:</span>
<span id="cb12-64"><a href="#cb12-64" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> protocol <span class="kw">in</span> protocols:</span>
<span id="cb12-65"><a href="#cb12-65" aria-hidden="true" tabindex="-1"></a>            current_url <span class="op">=</span> <span class="ss">f"</span><span class="sc">{</span>protocol<span class="sc">}{</span>path<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb12-66"><a href="#cb12-66" aria-hidden="true" tabindex="-1"></a>            offset <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb12-67"><a href="#cb12-67" aria-hidden="true" tabindex="-1"></a>            <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb12-68"><a href="#cb12-68" aria-hidden="true" tabindex="-1"></a>                params <span class="op">=</span> {</span>
<span id="cb12-69"><a href="#cb12-69" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"url"</span>: current_url,</span>
<span id="cb12-70"><a href="#cb12-70" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"matchType"</span>: <span class="st">"exact"</span>,</span>
<span id="cb12-71"><a href="#cb12-71" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"output"</span>: <span class="st">"json"</span>,</span>
<span id="cb12-72"><a href="#cb12-72" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"fl"</span>: <span class="st">"timestamp,original,mimetype,statuscode"</span>,</span>
<span id="cb12-73"><a href="#cb12-73" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"filter"</span>: [<span class="st">"statuscode:200"</span>, <span class="st">"mimetype:text/html"</span>],</span>
<span id="cb12-74"><a href="#cb12-74" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"limit"</span>: <span class="st">"5000"</span>,</span>
<span id="cb12-75"><a href="#cb12-75" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"offset"</span>: <span class="bu">str</span>(offset),</span>
<span id="cb12-76"><a href="#cb12-76" aria-hidden="true" tabindex="-1"></a>                }</span>
<span id="cb12-77"><a href="#cb12-77" aria-hidden="true" tabindex="-1"></a>                </span>
<span id="cb12-78"><a href="#cb12-78" aria-hidden="true" tabindex="-1"></a>                resp <span class="op">=</span> make_request_with_retry(params, max_retries<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb12-79"><a href="#cb12-79" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="kw">not</span> resp: <span class="cf">break</span></span>
<span id="cb12-80"><a href="#cb12-80" aria-hidden="true" tabindex="-1"></a>                data <span class="op">=</span> resp.json()</span>
<span id="cb12-81"><a href="#cb12-81" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="bu">len</span>(data) <span class="op">&lt;=</span> <span class="dv">1</span>: <span class="cf">break</span></span>
<span id="cb12-82"><a href="#cb12-82" aria-hidden="true" tabindex="-1"></a>                </span>
<span id="cb12-83"><a href="#cb12-83" aria-hidden="true" tabindex="-1"></a>                new_rows <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb12-84"><a href="#cb12-84" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> row <span class="kw">in</span> data[<span class="dv">1</span>:]:</span>
<span id="cb12-85"><a href="#cb12-85" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">if</span> row[<span class="dv">0</span>] <span class="kw">not</span> <span class="kw">in</span> seen_timestamps:</span>
<span id="cb12-86"><a href="#cb12-86" aria-hidden="true" tabindex="-1"></a>                        all_rows.append(row)</span>
<span id="cb12-87"><a href="#cb12-87" aria-hidden="true" tabindex="-1"></a>                        seen_timestamps.add(row[<span class="dv">0</span>])</span>
<span id="cb12-88"><a href="#cb12-88" aria-hidden="true" tabindex="-1"></a>                        new_rows <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb12-89"><a href="#cb12-89" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(<span class="ss">f"Found </span><span class="sc">{</span>new_rows<span class="sc">}</span><span class="ss"> new snapshots for </span><span class="sc">{</span>current_url<span class="sc">}</span><span class="ss"> (offset </span><span class="sc">{</span>offset<span class="sc">}</span><span class="ss">)"</span>)</span>
<span id="cb12-90"><a href="#cb12-90" aria-hidden="true" tabindex="-1"></a>                </span>
<span id="cb12-91"><a href="#cb12-91" aria-hidden="true" tabindex="-1"></a>                offset <span class="op">+=</span> <span class="dv">5000</span></span>
<span id="cb12-92"><a href="#cb12-92" aria-hidden="true" tabindex="-1"></a>                time.sleep(<span class="fl">1.5</span>)</span>
<span id="cb12-93"><a href="#cb12-93" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb12-94"><a href="#cb12-94" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (pd.DataFrame(all_rows, columns<span class="op">=</span>[<span class="st">"timestamp"</span>, <span class="st">"original"</span>, <span class="st">"mimetype"</span>, <span class="st">"status"</span>])</span>
<span id="cb12-95"><a href="#cb12-95" aria-hidden="true" tabindex="-1"></a>            .drop_duplicates(<span class="st">"timestamp"</span>)</span>
<span id="cb12-96"><a href="#cb12-96" aria-hidden="true" tabindex="-1"></a>            .sort_values(<span class="st">"timestamp"</span>)</span>
<span id="cb12-97"><a href="#cb12-97" aria-hidden="true" tabindex="-1"></a>            .reset_index(drop<span class="op">=</span><span class="va">True</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="execution-search" class="level3">
<h3 class="anchored" data-anchor-id="execution-search">Search Execution</h3>
<ul>
<li><p>Calls search_all_ndis_snapshots() to retrieve all viable NDIS records</p></li>
<li><p>Stores technical details (timestamps, URL variants) in structured JSON</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Show search code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform the search</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>snap_df <span class="op">=</span> search_all_ndis_snapshots()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<details class="code-fold">
<summary>Show search code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate summary report</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>search_meta <span class="op">=</span> {</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"search_performed"</span>: datetime.now().isoformat(),</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"total_snapshots"</span>: <span class="bu">len</span>(snap_df),</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"time_span"</span>: {</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">"first"</span>: snap_df[<span class="st">"timestamp"</span>].<span class="bu">min</span>(),</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">"last"</span>: snap_df[<span class="st">"timestamp"</span>].<span class="bu">max</span>()</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"url_variants"</span>: snap_df[<span class="st">"original"</span>].nunique()</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Save metadata</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(META_DIR <span class="op">/</span> <span class="st">"search_metadata.json"</span>, <span class="st">"w"</span>) <span class="im">as</span> f:</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    json.dump(search_meta, f, indent<span class="op">=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>

Search Results Summary
=====================
Loaded 317 snapshots

Total unique snapshots found: 317
Time coverage: 20101014043819 to 20250629171550
Unique URL patterns found: 8

Unique URLs:
  http://www.fbi.gov/about-us/lab/codis/ndis-statistics
  http://www.fbi.gov/about-us/lab/codis/ndis-statistics/
  http://www.fbi.gov:80/about-us/lab/codis/ndis-statistics
  http://www.fbi.gov:80/about-us/lab/codis/ndis-statistics/
  https://le.fbi.gov/science-and-lab/biometrics-and-fingerprints/codis/codis-ndis-statistics
  https://www.fbi.gov/services/laboratory/biometric-analysis/codis/ndis-statistics
  https://www.fbi.gov/services/laboratory/biometric-analysis/codis/ndis-statistics/
  https://www.fbi.gov/services/laboratory/biometric-analysis/codis/ndis-statistics//

Output saved to: C:\Users\Donadio\Documents\PODFRIDGE\PODFRIDGE-Databases\raw\wayback_meta/search_metadata.json</code></pre>
</div>
</div>
</section>
</section>
<section id="downloaderSnap" class="level2">
<h2 class="anchored" data-anchor-id="downloaderSnap">Snapshot Downloader</h2>
<p>This class provides a robust system for downloading historical webpage snapshots from the Internet Archive’s Wayback Machine, specifically designed for the FBI NDIS statistics pages.</p>
<section id="download-method" class="level3">
<h3 class="anchored" data-anchor-id="download-method">Download methods</h3>
<ol type="1">
<li><strong>Resilient Downloading</strong>:</li>
</ol>
<ul>
<li><p>Automatic retries with exponential backoff (1s → 2s → 4s delays)</p></li>
<li><p>Skips already downloaded files</p></li>
<li><p>Preserves original timestamps in filenames</p></li>
</ul>
<ol start="2" type="1">
<li><strong>Parallel Processing</strong>:</li>
</ol>
<ul>
<li><p>Downloads multiple snapshots simultaneously (configurable workers)</p></li>
<li><p>Thread-safe file writing</p></li>
</ul>
<ol start="3" type="1">
<li><strong>Transparent Tracking</strong>:</li>
</ol>
<ul>
<li><p>Live progress display with estimated completion</p></li>
<li><p>Detailed success/failure reporting</p></li>
<li><p>Complete error messages for troubleshooting</p></li>
</ul>
</section>
<section id="tech-proc" class="level3">
<h3 class="anchored" data-anchor-id="tech-proc">Technical Process</h3>
<ol type="1">
<li><strong>Initialization</strong>:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>    downloader <span class="op">=</span> SnapshotDownloader(</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>        output_dir<span class="op">=</span><span class="st">"data/raw"</span>,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>        max_workers<span class="op">=</span><span class="dv">5</span>,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>        progress_bar<span class="op">=</span><span class="va">True</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li><strong>Download Workflow</strong>:</li>
</ol>
<ul>
<li><p>Converts snapshot metadata into download tasks</p></li>
<li><p>Each task gets:</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>wayback_url <span class="op">=</span> <span class="st">"https://web.archive.org/web/[TIMESTAMP]/[ORIGINAL_URL]"</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>save_path <span class="op">=</span> <span class="st">"output_dir/[TIMESTAMP].html"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="3" type="1">
<li><strong>Quality Control</strong>:</li>
</ol>
<ul>
<li><p>Validates HTTP responses (status 200 only)</p></li>
<li><p>Ensures proper UTF-8 encoding</p></li>
<li><p>Atomic file writes (complete or nothing)</p></li>
</ul>
<ol start="4" type="1">
<li><strong>Example Usage</strong></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># After searching for snapshots</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>snapshots_df <span class="op">=</span> search_wayback_snapshots(url_patterns)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Download all found snapshots</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>downloader <span class="op">=</span> SnapshotDownloader(<span class="st">"data/raw"</span>)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>success, failed, failures <span class="op">=</span> downloader.download_all(snapshots_df)</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Successfully downloaded </span><span class="sc">{</span>success<span class="sc">}</span><span class="ss"> snapshots"</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> failed:</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Failed to download </span><span class="sc">{</span>failed<span class="sc">}</span><span class="ss"> files (see list)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="5" type="1">
<li><strong>Performance Notes</strong></li>
</ol>
<ul>
<li><p><strong>Network-Friendly</strong>:</p>
<ul>
<li><p>Default 30-second timeout</p></li>
<li><p>Limited concurrent connections</p></li>
</ul></li>
<li><p><strong>Error Recovery</strong>:</p>
<ul>
<li><p>Failed downloads remain in the task queue</p></li>
<li><p>Can re-run with same parameters to retry</p></li>
</ul></li>
</ul>
<ol start="5" type="1">
<li><p><strong>Best Practices</strong></p></li>
<li><p>Start with 3-5 workers to avoid rate limiting</p></li>
<li><p>Check failures list for systematic issues (e.g., recurring HTTP errors)</p></li>
<li><p>Store original timestamps for future reference</p></li>
</ol>
</section>
<section id="download-code" class="level3">
<h3 class="anchored" data-anchor-id="download-code">Downloader Code</h3>
<div class="cell">
<details class="code-fold">
<summary>Show downloader class code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> SnapshotDownloader:</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Parallel downloader with resume capability"""</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, output_dir, max_workers<span class="op">=</span><span class="dv">4</span>):</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.output_dir <span class="op">=</span> Path(output_dir)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.max_workers <span class="op">=</span> max_workers</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.output_dir.mkdir(exist_ok<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> _download(<span class="va">self</span>, timestamp, url):</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Single-file download with retries"""</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>        path <span class="op">=</span> <span class="va">self</span>.output_dir <span class="op">/</span> <span class="ss">f"</span><span class="sc">{</span>timestamp<span class="sc">}</span><span class="ss">.html"</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> path.exists():</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="va">True</span>, timestamp</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> attempt <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>):</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>            <span class="cf">try</span>:</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>                resp <span class="op">=</span> requests.get(</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>                    <span class="ss">f"https://web.archive.org/web/</span><span class="sc">{</span>timestamp<span class="sc">}</span><span class="ss">/</span><span class="sc">{</span>url<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>                    timeout<span class="op">=</span><span class="dv">30</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>                )</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>                resp.raise_for_status()</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>                path.write_text(resp.text, encoding<span class="op">=</span><span class="st">'utf-8'</span>)</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="va">True</span>, timestamp</span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>            <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> attempt <span class="op">==</span> <span class="dv">2</span>:</span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">return</span> <span class="va">False</span>, <span class="ss">f"</span><span class="sc">{</span>timestamp<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span><span class="bu">str</span>(e)<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>                time.sleep(<span class="dv">2</span> <span class="op">**</span> attempt)</span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> run(<span class="va">self</span>, snapshots_df):</span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Process all snapshots in parallel"""</span></span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>        <span class="im">from</span> concurrent.futures <span class="im">import</span> ThreadPoolExecutor, as_completed</span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>        tasks <span class="op">=</span> snapshots_df[[<span class="st">"timestamp"</span>, <span class="st">"original"</span>]].values.tolist()</span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a>        results <span class="op">=</span> []</span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> ThreadPoolExecutor(max_workers<span class="op">=</span><span class="va">self</span>.max_workers) <span class="im">as</span> executor:</span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a>            futures <span class="op">=</span> [executor.submit(<span class="va">self</span>._download, ts, url) <span class="cf">for</span> ts, url <span class="kw">in</span> tasks]</span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> future <span class="kw">in</span> tqdm(as_completed(futures), total<span class="op">=</span><span class="bu">len</span>(tasks), desc<span class="op">=</span><span class="st">"Downloading"</span>):</span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a>                results.append(future.result())</span>
<span id="cb19-40"><a href="#cb19-40" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb19-41"><a href="#cb19-41" aria-hidden="true" tabindex="-1"></a>        successes <span class="op">=</span> <span class="bu">sum</span>(<span class="dv">1</span> <span class="cf">for</span> r <span class="kw">in</span> results <span class="cf">if</span> r[<span class="dv">0</span>])</span>
<span id="cb19-42"><a href="#cb19-42" aria-hidden="true" tabindex="-1"></a>        failures <span class="op">=</span> [r[<span class="dv">1</span>] <span class="cf">for</span> r <span class="kw">in</span> results <span class="cf">if</span> <span class="kw">not</span> r[<span class="dv">0</span>]]</span>
<span id="cb19-43"><a href="#cb19-43" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb19-44"><a href="#cb19-44" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Completed: </span><span class="sc">{</span>successes<span class="sc">}</span><span class="ss">/</span><span class="sc">{</span><span class="bu">len</span>(tasks)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb19-45"><a href="#cb19-45" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> failures:</span>
<span id="cb19-46"><a href="#cb19-46" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">"First 5 failures:"</span>)</span>
<span id="cb19-47"><a href="#cb19-47" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> fail <span class="kw">in</span> failures[:<span class="dv">5</span>]:</span>
<span id="cb19-48"><a href="#cb19-48" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(<span class="ss">f" - </span><span class="sc">{</span>fail<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb19-49"><a href="#cb19-49" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb19-50"><a href="#cb19-50" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> successes, failures</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="download-exec" class="level3">
<h3 class="anchored" data-anchor-id="download-exec">Download Execution</h3>
<p>This stage performs bulk retrieval of historical NDIS snapshots from the Wayback Machine, implementing robust parallel downloading with comprehensive progress tracking. The process:</p>
<ol type="1">
<li><p>Initializes a threaded downloader (4 concurrent workers optimal for network stability)</p></li>
<li><p>Executes downloads with automatic retries (3 attempts per snapshot)</p></li>
<li><p>Generates two-tier reporting:</p>
<ul>
<li>Machine-readable JSON metadata with failure details</li>
<li>Real-time console progress updates</li>
</ul></li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Show download execution code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize downloader</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>downloader <span class="op">=</span> SnapshotDownloader(</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    output_dir<span class="op">=</span>HTML_DIR,</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    max_workers<span class="op">=</span><span class="dv">4</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Execute download with metadata</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Downloading </span><span class="sc">{</span><span class="bu">len</span>(snap_df)<span class="sc">}</span><span class="ss"> snapshots from </span><span class="sc">{</span>snap_df[<span class="st">'original'</span>]<span class="sc">.</span>nunique()<span class="sc">}</span><span class="ss"> URL patterns..."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Downloading 317 snapshots from 8 URL patterns...</code></pre>
</div>
<details class="code-fold">
<summary>Show download execution code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Perform the download and capture results</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    success_count, failures <span class="op">=</span> downloader.run(snap_df)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate success rate safely</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    success_rate <span class="op">=</span> <span class="bu">round</span>(success_count<span class="op">/</span><span class="bu">len</span>(snap_df)<span class="op">*</span><span class="dv">100</span>, <span class="dv">1</span>) <span class="cf">if</span> <span class="bu">len</span>(snap_df) <span class="op">&gt;</span> <span class="dv">0</span> <span class="cf">else</span> <span class="fl">0.0</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Download report</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    download_report <span class="op">=</span> {</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">'timestamp'</span>: datetime.now().isoformat(),</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">'total_snapshots'</span>: <span class="bu">len</span>(snap_df),</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">'unique_urls'</span>: <span class="bu">int</span>(snap_df[<span class="st">'original'</span>].nunique()),</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">'success_count'</span>: success_count,</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">'failure_count'</span>: <span class="bu">len</span>(failures),</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">'success_rate'</span>: success_rate,</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">'failed_timestamps'</span>: failures[:<span class="dv">50</span>],</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">'url_distribution'</span>: snap_df[<span class="st">'original'</span>].value_counts().to_dict()</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Save report</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(META_DIR <span class="op">/</span> <span class="st">'download_report.json'</span>, <span class="st">'w'</span>) <span class="im">as</span> f:</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>        json.dump(download_report, f, indent<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Print summary</span></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Download completed with </span><span class="sc">{</span>success_count<span class="sc">}</span><span class="ss"> successes (</span><span class="sc">{</span>success_rate<span class="sc">}</span><span class="ss">%)"</span>)</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Failures: </span><span class="sc">{</span><span class="bu">len</span>(failures)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Download failed with error: </span><span class="sc">{</span><span class="bu">str</span>(e)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>    download_report <span class="op">=</span> <span class="va">None</span></span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>    success_count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>    failures <span class="op">=</span> []</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Downloading:   0%|          | 0/317 [00:00&lt;?, ?it/s]
Downloading: 100%|##########| 317/317 [00:00&lt;00:00, 24801.24it/s]
Completed: 317/317

Download completed with 317 successes (100.0%)
Failures: 0</code></pre>
</div>
</div>
</section>
<section id="download-validation" class="level3">
<h3 class="anchored" data-anchor-id="download-validation">Download Validation</h3>
<div class="cell">
<details class="code-fold">
<summary>Show download validation code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> validate_downloads():</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Comprehensive verification with snapshot metadata"""</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 1. Load discovery metadata</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    url_patterns <span class="op">=</span> snap_df[<span class="st">'original'</span>].unique()</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 2. Check file counts</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    downloaded_files <span class="op">=</span> <span class="bu">list</span>(HTML_DIR.glob(<span class="st">"*.html"</span>))</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>    downloaded_timestamps <span class="op">=</span> {f.stem <span class="cf">for</span> f <span class="kw">in</span> downloaded_files}</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>    expected_timestamps <span class="op">=</span> <span class="bu">set</span>(snap_df[<span class="st">'timestamp'</span>].astype(<span class="bu">str</span>))</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 3. Check file integrity</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    corrupt_files <span class="op">=</span> []</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> html_file <span class="kw">in</span> tqdm(HTML_DIR.glob(<span class="st">"*.html"</span>), desc<span class="op">=</span><span class="st">"Validating files"</span>):</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>            content <span class="op">=</span> html_file.read_text(encoding<span class="op">=</span><span class="st">'utf-8'</span>)</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="bu">len</span>(content) <span class="op">&lt;</span> <span class="dv">1024</span>:</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>                corrupt_files.append(html_file.name)</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span>:</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>            corrupt_files.append(html_file.name)</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 4. Generate report</span></span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>    report <span class="op">=</span> {</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>        <span class="st">'validation_date'</span>: datetime.now().strftime(<span class="st">"%Y-%m-</span><span class="sc">%d</span><span class="st">"</span>),</span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>        <span class="st">'source_urls'</span>: {</span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>            <span class="st">'count'</span>: <span class="bu">len</span>(url_patterns),</span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>            <span class="st">'patterns'</span>: <span class="bu">sorted</span>(url_patterns.tolist())</span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>        <span class="st">'snapshot_coverage'</span>: {</span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>            <span class="st">'expected'</span>: <span class="bu">len</span>(expected_timestamps),</span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>            <span class="st">'downloaded'</span>: <span class="bu">len</span>(downloaded_timestamps),</span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a>            <span class="st">'missing'</span>: <span class="bu">list</span>(expected_timestamps <span class="op">-</span> downloaded_timestamps)[:<span class="dv">10</span>],</span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>            <span class="st">'time_span'</span>: {</span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a>                <span class="st">'first'</span>: <span class="bu">min</span>(snap_df[<span class="st">'timestamp'</span>]),</span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a>                <span class="st">'last'</span>: <span class="bu">max</span>(snap_df[<span class="st">'timestamp'</span>])</span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a>        <span class="st">'integrity_checks'</span>: {</span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a>            <span class="st">'corrupt_files'</span>: corrupt_files[:<span class="dv">5</span>],</span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a>            <span class="st">'avg_file_size'</span>: <span class="ss">f"</span><span class="sc">{</span><span class="bu">sum</span>(f.stat().st_size <span class="cf">for</span> f <span class="kw">in</span> HTML_DIR.glob(<span class="st">'*.html'</span>))<span class="op">/</span>(<span class="dv">1024</span><span class="op">*</span><span class="bu">len</span>(downloaded_files))<span class="sc">:.1f}</span><span class="ss"> KB"</span></span>
<span id="cb24-40"><a href="#cb24-40" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb24-41"><a href="#cb24-41" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb24-42"><a href="#cb24-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> report</span>
<span id="cb24-43"><a href="#cb24-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-44"><a href="#cb24-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Run validation</span></span>
<span id="cb24-45"><a href="#cb24-45" aria-hidden="true" tabindex="-1"></a>validation_results <span class="op">=</span> validate_downloads()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Validating files: 0it [00:00, ?it/s]
Validating files: 134it [00:00, 1180.02it/s]
Validating files: 268it [00:00, 1196.61it/s]
Validating files: 317it [00:00, 1320.49it/s]</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
============================================================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>DOWNLOAD VALIDATION REPORT</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>============================================================</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Source URLs: 8 unique patterns</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Time Coverage: 20101014043819 to 20250629171550</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Completion: 317/317 snapshots</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Data Quality: Avg 124.4 KB per file</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Full report: ..\raw\wayback_meta\validation_report.json</code></pre>
</div>
</div>
</section>
</section>
<section id="extraction-pipe" class="level2">
<h2 class="anchored" data-anchor-id="extraction-pipe">Data Extraction</h2>
<ol type="1">
<li><p><strong>Metadata Extraction</strong></p>
<ul>
<li><p>Identifies report dates (“Statistics as of”)</p></li>
<li><p>Cleans HTML content (removes scripts/styles/navigation)</p></li>
</ul></li>
<li><p><strong>Era-Specific Parsing</strong></p>
<ul>
<li><p><strong>Pre-2010</strong>: Handles older format without arrestee data</p></li>
<li><p><strong>Post-2010</strong>: Processes current format with all profile types</p></li>
</ul></li>
<li><p><strong>Standardization</strong></p>
<ul>
<li><p>Normalizes jurisdiction names (e.g., “D.C.” → “DC”)</p></li>
<li><p>Converts all numbers to integers (removes commas)</p></li>
<li><p>Formats timestamps consistently</p></li>
</ul></li>
<li><p><strong>Design Features</strong></p>
<p>✔ <strong>Robust Pattern Matching</strong></p>
<ul>
<li><p>Regex tailored to NDIS table structures</p></li>
<li><p>Handles whitespace variations</p></li>
</ul>
<p>✔ <strong>Error Resilience</strong></p>
<ul>
<li><p>Skips corrupt files but logs errors</p></li>
<li><p>Preserves original values before standardization</p></li>
</ul>
<p>✔ <strong>Auditability</strong></p>
<ul>
<li><p>Keeps source timestamps</p></li>
<li><p>Tracks data provenance</p></li>
</ul></li>
<li><p><strong>Output Structure</strong></p></li>
</ol>
<p>Each record contains:</p>
<ul>
<li><p><strong><code>timestamp</code></strong>: Wayback capture time</p></li>
<li><p><strong><code>jurisdiction</code></strong>: Standardized name</p></li>
<li><p><strong><code>offender_profiles</code></strong>, <strong><code>arrestee</code></strong>, <strong><code>forensic_profiles</code></strong>: DNA counts</p></li>
<li><p><strong><code>ndis_labs</code></strong>: Participating labs</p></li>
<li><p><strong><code>investigations_aided</code></strong>: Cases assisted</p></li>
</ul>
<section id="parser-functions" class="level3">
<h3 class="anchored" data-anchor-id="parser-functions">Core Parser Functions</h3>
<p>Essential text processing utilities for NDIS data extraction.</p>
<ul>
<li><p><strong>Metadata Extraction:</strong> Isolates report dates and cleans HTML content.</p></li>
<li><p><strong>Name Standardization:</strong> Normalizes jurisdiction names (e.g., “D.C.” → “DC”).</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Show parser functions code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> extract_ndis_metadata(html_content):</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Extract key metadata from NDIS HTML content</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="co">    --------</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co">    dict:</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="co">        - data_date: "Statistics as of" date (datetime)</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a><span class="co">        - clean_text: Normalized text content</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>    date_patterns <span class="op">=</span> [</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>        <span class="vs">r'Statistics as of </span><span class="kw">(</span><span class="dv">\w</span><span class="op">+</span><span class="vs"> </span><span class="dv">\d</span><span class="op">{1,2}</span><span class="vs">, </span><span class="dv">\d</span><span class="op">{4}</span><span class="kw">)</span><span class="vs">'</span>,</span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>        <span class="vs">r'Statistics as of </span><span class="kw">(</span><span class="dv">\w</span><span class="op">+</span><span class="vs"> </span><span class="dv">\d</span><span class="op">{4}</span><span class="kw">)</span><span class="vs">'</span>,</span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>        <span class="vs">r'as of </span><span class="kw">(</span><span class="dv">\w</span><span class="op">+</span><span class="vs"> </span><span class="dv">\d</span><span class="op">{1,2}</span><span class="vs">, </span><span class="dv">\d</span><span class="op">{4}</span><span class="kw">)</span><span class="vs">'</span>,</span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>        <span class="vs">r'Data current as of </span><span class="kw">(</span><span class="dv">\w</span><span class="op">+</span><span class="vs"> </span><span class="dv">\d</span><span class="op">{1,2}</span><span class="vs">, </span><span class="dv">\d</span><span class="op">{4}</span><span class="kw">)</span><span class="vs">'</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>    data_date <span class="op">=</span> <span class="va">None</span></span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> pattern <span class="kw">in</span> date_patterns:</span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>        date_match <span class="op">=</span> re.search(pattern, html_content, re.IGNORECASE)</span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> date_match:</span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a>            date_str <span class="op">=</span> date_match.group(<span class="dv">1</span>)</span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a>            <span class="cf">try</span>:</span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="st">','</span> <span class="kw">in</span> date_str:</span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a>                    data_date <span class="op">=</span> pd.to_datetime(date_str)</span>
<span id="cb34-27"><a href="#cb34-27" aria-hidden="true" tabindex="-1"></a>                <span class="cf">else</span>:</span>
<span id="cb34-28"><a href="#cb34-28" aria-hidden="true" tabindex="-1"></a>                    data_date <span class="op">=</span> pd.to_datetime(<span class="st">"1 "</span> <span class="op">+</span> date_str)</span>
<span id="cb34-29"><a href="#cb34-29" aria-hidden="true" tabindex="-1"></a>                <span class="cf">break</span></span>
<span id="cb34-30"><a href="#cb34-30" aria-hidden="true" tabindex="-1"></a>            <span class="cf">except</span>:</span>
<span id="cb34-31"><a href="#cb34-31" aria-hidden="true" tabindex="-1"></a>                <span class="cf">continue</span></span>
<span id="cb34-32"><a href="#cb34-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb34-33"><a href="#cb34-33" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Normalize text</span></span>
<span id="cb34-34"><a href="#cb34-34" aria-hidden="true" tabindex="-1"></a>    soup <span class="op">=</span> BeautifulSoup(html_content, <span class="st">'lxml'</span>)</span>
<span id="cb34-35"><a href="#cb34-35" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> re.sub(<span class="vs">r'</span><span class="dv">\s</span><span class="op">+</span><span class="vs">'</span>, <span class="st">' '</span>, soup.get_text(<span class="st">' '</span>, strip<span class="op">=</span><span class="va">True</span>))</span>
<span id="cb34-36"><a href="#cb34-36" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb34-37"><a href="#cb34-37" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb34-38"><a href="#cb34-38" aria-hidden="true" tabindex="-1"></a>        <span class="st">'data_date'</span>: data_date,</span>
<span id="cb34-39"><a href="#cb34-39" aria-hidden="true" tabindex="-1"></a>        <span class="st">'clean_text'</span>: text</span>
<span id="cb34-40"><a href="#cb34-40" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb34-41"><a href="#cb34-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-42"><a href="#cb34-42" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> standardize_region_name(name):</span>
<span id="cb34-43"><a href="#cb34-43" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb34-44"><a href="#cb34-44" aria-hidden="true" tabindex="-1"></a><span class="co">    Clean and standardize jurisdiction names</span></span>
<span id="cb34-45"><a href="#cb34-45" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb34-46"><a href="#cb34-46" aria-hidden="true" tabindex="-1"></a><span class="co">    Handles:</span></span>
<span id="cb34-47"><a href="#cb34-47" aria-hidden="true" tabindex="-1"></a><span class="co">    - Prefix removal ("Back to top", etc.)</span></span>
<span id="cb34-48"><a href="#cb34-48" aria-hidden="true" tabindex="-1"></a><span class="co">    - Known variations (DC vs D.C.)</span></span>
<span id="cb34-49"><a href="#cb34-49" aria-hidden="true" tabindex="-1"></a><span class="co">    - Whitespace normalization</span></span>
<span id="cb34-50"><a href="#cb34-50" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb34-51"><a href="#cb34-51" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Remove common prefixes</span></span>
<span id="cb34-52"><a href="#cb34-52" aria-hidden="true" tabindex="-1"></a>    name <span class="op">=</span> re.sub(<span class="vs">r'</span><span class="dv">^.</span><span class="op">*?</span><span class="kw">(</span><span class="vs">Back to top</span><span class="cf">|</span><span class="vs">Tables by NDIS Participant</span><span class="cf">|</span><span class="vs">ation</span><span class="ch">\.</span><span class="kw">)</span><span class="dv">\s</span><span class="op">*</span><span class="vs">'</span>, </span>
<span id="cb34-53"><a href="#cb34-53" aria-hidden="true" tabindex="-1"></a>                 <span class="st">''</span>, name, flags<span class="op">=</span>re.I).strip()</span>
<span id="cb34-54"><a href="#cb34-54" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb34-55"><a href="#cb34-55" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Standardize known variants</span></span>
<span id="cb34-56"><a href="#cb34-56" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (</span>
<span id="cb34-57"><a href="#cb34-57" aria-hidden="true" tabindex="-1"></a>        name.replace(<span class="st">'D.C./FBI Lab'</span>, <span class="st">'DC/FBI Lab'</span>)</span>
<span id="cb34-58"><a href="#cb34-58" aria-hidden="true" tabindex="-1"></a>            .replace(<span class="st">'US Army'</span>, <span class="st">'U.S. Army'</span>)</span>
<span id="cb34-59"><a href="#cb34-59" aria-hidden="true" tabindex="-1"></a>            .replace(<span class="st">'D.C./Metro PD'</span>, <span class="st">'DC/Metro PD'</span>)</span>
<span id="cb34-60"><a href="#cb34-60" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="era-parsers" class="level3">
<h3 class="anchored" data-anchor-id="era-parsers">Era-Specific Parsers</h3>
<p>Time-period-adapted parsing logic.</p>
<ul>
<li><p><strong>Pre-2010 Format:</strong> Handles legacy structure without arrestee data fields.</p></li>
<li><p><strong>Post-2010 Format:</strong> Processes modern layout with all profile types.</p></li>
<li><p><strong>Pattern Matching:</strong> Regex tailored to each era’s table structures.</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Show era parser functions code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> parse_pre2010_ndis(text, timestamp, data_date):</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Parse NDIS snapshots from 2010 and earlier</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co">    (No arrestee data in these reports)</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>    pattern <span class="op">=</span> re.<span class="bu">compile</span>(</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>        <span class="vs">r'</span><span class="kw">(</span><span class="pp">[A-Z][</span><span class="dv">\w\s</span><span class="ch">\.\-\'\/</span><span class="pp">&amp;</span><span class="ch">\(\)</span><span class="pp">]</span><span class="op">+?</span><span class="kw">)</span><span class="vs">Statistical Information'</span>  <span class="co"># Jurisdiction</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>        <span class="vs">r'</span><span class="dv">.</span><span class="op">*?</span><span class="vs">Offender Profiles</span><span class="dv">\s</span><span class="op">+</span><span class="kw">(</span><span class="pp">[</span><span class="dv">\d</span><span class="pp">,]</span><span class="op">+</span><span class="kw">)</span><span class="vs">'</span>                     <span class="co"># Offenders</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>        <span class="vs">r'</span><span class="dv">.</span><span class="op">*?</span><span class="vs">Forensic Samples</span><span class="dv">\s</span><span class="op">+</span><span class="kw">(</span><span class="pp">[</span><span class="dv">\d</span><span class="pp">,]</span><span class="op">+</span><span class="kw">)</span><span class="vs">'</span>                      <span class="co"># Forensic</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>        <span class="vs">r'</span><span class="dv">.</span><span class="op">*?</span><span class="vs">NDIS Participating Labs</span><span class="dv">\s</span><span class="op">+</span><span class="kw">(</span><span class="dv">\d</span><span class="op">+</span><span class="kw">)</span><span class="vs">'</span>                  <span class="co"># Labs</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>        <span class="vs">r'</span><span class="dv">.</span><span class="op">*?</span><span class="vs">Investigations Aided</span><span class="dv">\s</span><span class="op">+</span><span class="kw">(</span><span class="pp">[</span><span class="dv">\d</span><span class="pp">,]</span><span class="op">+</span><span class="kw">)</span><span class="vs">'</span>,                 <span class="co"># Cases</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>        re.IGNORECASE <span class="op">|</span> re.DOTALL</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> [{</span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">'timestamp'</span>: timestamp,</span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">'jurisdiction'</span>: standardize_region_name(match.group(<span class="dv">1</span>)),</span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">'offender_profiles'</span>: <span class="bu">int</span>(match.group(<span class="dv">2</span>).replace(<span class="st">','</span>, <span class="st">''</span>)),</span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>        <span class="st">'arrestee'</span>: <span class="dv">0</span>,  <span class="co"># Explicit 0 for pre-2010 data</span></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>        <span class="st">'forensic_profiles'</span>: <span class="bu">int</span>(match.group(<span class="dv">3</span>).replace(<span class="st">','</span>, <span class="st">''</span>)),</span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a>        <span class="st">'ndis_labs'</span>: <span class="bu">int</span>(match.group(<span class="dv">4</span>)),</span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a>        <span class="st">'investigations_aided'</span>: <span class="bu">int</span>(match.group(<span class="dv">5</span>).replace(<span class="st">','</span>, <span class="st">''</span>))</span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">for</span> match <span class="kw">in</span> pattern.finditer(text)]</span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> parse_post2010_ndis(text, timestamp, data_date):</span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a><span class="co">    Parse NDIS snapshots from 2011 onward</span></span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a><span class="co">    (Includes arrestee profiles)</span></span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb35-30"><a href="#cb35-30" aria-hidden="true" tabindex="-1"></a>    pattern <span class="op">=</span> re.<span class="bu">compile</span>(</span>
<span id="cb35-31"><a href="#cb35-31" aria-hidden="true" tabindex="-1"></a>        <span class="vs">r'</span><span class="kw">(</span><span class="pp">[A-Z][</span><span class="dv">\w\s</span><span class="ch">\.\-\'\/</span><span class="pp">&amp;</span><span class="ch">\(\)</span><span class="pp">]</span><span class="op">+?</span><span class="kw">)</span><span class="vs">Statistical Information'</span></span>
<span id="cb35-32"><a href="#cb35-32" aria-hidden="true" tabindex="-1"></a>        <span class="vs">r'</span><span class="dv">.</span><span class="op">*?</span><span class="vs">Offender Profiles</span><span class="dv">\s</span><span class="op">+</span><span class="kw">(</span><span class="pp">[</span><span class="dv">\d</span><span class="pp">,]</span><span class="op">+</span><span class="kw">)</span><span class="vs">'</span></span>
<span id="cb35-33"><a href="#cb35-33" aria-hidden="true" tabindex="-1"></a>        <span class="vs">r'</span><span class="dv">.</span><span class="op">*?</span><span class="vs">Arrestee</span><span class="dv">\s</span><span class="op">+</span><span class="kw">(</span><span class="pp">[</span><span class="dv">\d</span><span class="pp">,]</span><span class="op">+</span><span class="kw">)</span><span class="vs">'</span></span>
<span id="cb35-34"><a href="#cb35-34" aria-hidden="true" tabindex="-1"></a>        <span class="vs">r'</span><span class="dv">.</span><span class="op">*?</span><span class="vs">Forensic Profiles</span><span class="dv">\s</span><span class="op">+</span><span class="kw">(</span><span class="pp">[</span><span class="dv">\d</span><span class="pp">,]</span><span class="op">+</span><span class="kw">)</span><span class="vs">'</span></span>
<span id="cb35-35"><a href="#cb35-35" aria-hidden="true" tabindex="-1"></a>        <span class="vs">r'</span><span class="dv">.</span><span class="op">*?</span><span class="vs">NDIS Participating Labs</span><span class="dv">\s</span><span class="op">+</span><span class="kw">(</span><span class="dv">\d</span><span class="op">+</span><span class="kw">)</span><span class="vs">'</span></span>
<span id="cb35-36"><a href="#cb35-36" aria-hidden="true" tabindex="-1"></a>        <span class="vs">r'</span><span class="dv">.</span><span class="op">*?</span><span class="vs">Investigations Aided</span><span class="dv">\s</span><span class="op">+</span><span class="kw">(</span><span class="pp">[</span><span class="dv">\d</span><span class="pp">,]</span><span class="op">+</span><span class="kw">)</span><span class="vs">'</span>,</span>
<span id="cb35-37"><a href="#cb35-37" aria-hidden="true" tabindex="-1"></a>        re.IGNORECASE <span class="op">|</span> re.DOTALL</span>
<span id="cb35-38"><a href="#cb35-38" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb35-39"><a href="#cb35-39" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb35-40"><a href="#cb35-40" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> [{</span>
<span id="cb35-41"><a href="#cb35-41" aria-hidden="true" tabindex="-1"></a>        <span class="st">'timestamp'</span>: timestamp,</span>
<span id="cb35-42"><a href="#cb35-42" aria-hidden="true" tabindex="-1"></a>        <span class="st">'jurisdiction'</span>: standardize_region_name(match.group(<span class="dv">1</span>)),</span>
<span id="cb35-43"><a href="#cb35-43" aria-hidden="true" tabindex="-1"></a>        <span class="st">'offender_profiles'</span>: <span class="bu">int</span>(match.group(<span class="dv">2</span>).replace(<span class="st">','</span>, <span class="st">''</span>)),</span>
<span id="cb35-44"><a href="#cb35-44" aria-hidden="true" tabindex="-1"></a>        <span class="st">'arrestee'</span>: <span class="bu">int</span>(match.group(<span class="dv">3</span>).replace(<span class="st">','</span>, <span class="st">''</span>)),</span>
<span id="cb35-45"><a href="#cb35-45" aria-hidden="true" tabindex="-1"></a>        <span class="st">'forensic_profiles'</span>: <span class="bu">int</span>(match.group(<span class="dv">4</span>).replace(<span class="st">','</span>, <span class="st">''</span>)),</span>
<span id="cb35-46"><a href="#cb35-46" aria-hidden="true" tabindex="-1"></a>        <span class="st">'ndis_labs'</span>: <span class="bu">int</span>(match.group(<span class="dv">5</span>)),</span>
<span id="cb35-47"><a href="#cb35-47" aria-hidden="true" tabindex="-1"></a>        <span class="st">'investigations_aided'</span>: <span class="bu">int</span>(match.group(<span class="dv">6</span>).replace(<span class="st">','</span>, <span class="st">''</span>))</span>
<span id="cb35-48"><a href="#cb35-48" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">for</span> match <span class="kw">in</span> pattern.finditer(text)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="main-processor" class="level3">
<h3 class="anchored" data-anchor-id="main-processor">Snapshot Processing</h3>
<p>Individual file conversion pipeline.</p>
<ul>
<li><p><strong>Content Cleaning:</strong> Strips scripts/styles, normalizes whitespace.</p></li>
<li><p><strong>Era Routing:</strong> Automatically selects parser based on timestamp.</p></li>
<li><p><strong>Error Isolation:</strong> Single-file failures don’t halt entire batch.</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Show processing function code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_ndis_snapshot(html_file):</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Convert single NDIS HTML file to structured data</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Parameters:</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="co">    -----------</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="co">    html_file : Path</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="co">        Path to downloaded HTML snapshot</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="co">        </span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a><span class="co">    --------</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a><span class="co">    list[dict]</span></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a><span class="co">        Parsed records for all jurisdictions in the snapshot</span></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Read and preprocess</span></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>    content <span class="op">=</span> html_file.read_text(encoding<span class="op">=</span><span class="st">'utf-8'</span>, errors<span class="op">=</span><span class="st">'ignore'</span>)</span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>    metadata <span class="op">=</span> extract_ndis_metadata(content)</span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a>    timestamp <span class="op">=</span> html_file.stem</span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a>    year <span class="op">=</span> <span class="bu">int</span>(timestamp[:<span class="dv">4</span>])</span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Route to era-appropriate parser</span></span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> year <span class="op">&lt;=</span> <span class="dv">2010</span>:</span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> parse_pre2010_ndis(metadata[<span class="st">'clean_text'</span>], timestamp, </span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a>                                metadata[<span class="st">'data_date'</span>])</span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> parse_post2010_ndis(metadata[<span class="st">'clean_text'</span>], timestamp, </span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a>                                 metadata[<span class="st">'data_date'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="batch-processing" class="level3">
<h3 class="anchored" data-anchor-id="batch-processing">Batch Processing</h3>
<p>Full dataset consolidation.</p>
<ul>
<li><p><strong>Scalable Execution:</strong> Processes all HTML files sequentially.</p></li>
<li><p><strong>Progress Tracking:</strong> Live progress bar via tqdm.</p></li>
<li><p><strong>Temporal Enrichment:</strong> Adds derived year/capture_date columns.</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Show batch processing function code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_all_snapshots():</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Process all downloaded snapshots into a single DataFrame</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="co">    --------</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="co">    pd.DataFrame</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a><span class="co">        Combined dataset with all snapshots</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>    all_records <span class="op">=</span> []</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>    html_files <span class="op">=</span> <span class="bu">sorted</span>(HTML_DIR.glob(<span class="st">"*.html"</span>))</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> html_file <span class="kw">in</span> tqdm(html_files, desc<span class="op">=</span><span class="st">"Processing NDIS snapshots"</span>):</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>            all_records.extend(process_ndis_snapshot(html_file))</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"Error processing </span><span class="sc">{</span>html_file<span class="sc">.</span>name<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span><span class="bu">str</span>(e)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>            <span class="cf">continue</span></span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert to DataFrame</span></span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> pd.DataFrame(all_records)</span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add derived columns</span></span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">'capture_date'</span>] <span class="op">=</span> pd.to_datetime(df[<span class="st">'timestamp'</span>], <span class="bu">format</span><span class="op">=</span><span class="st">'%Y%m</span><span class="sc">%d</span><span class="st">%H%M%S'</span>)</span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">'year'</span>] <span class="op">=</span> df[<span class="st">'capture_date'</span>].dt.year</span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> df.sort_values([<span class="st">'capture_date'</span>, <span class="st">'jurisdiction'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="exp-valid" class="level3">
<h3 class="anchored" data-anchor-id="exp-valid">Export &amp; Validation</h3>
<p>Structured output generation.</p>
<ul>
<li><p><strong>Validation Checks:</strong> Verifies critical columns exist.</p></li>
<li><p><strong>Versioned Output:</strong> Timestamped CSV filenames.</p></li>
<li><p><strong>Metadata Capture:</strong> Records file size, record counts, and coverage.</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Show execution function code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> export_ndis_data(df, output_dir<span class="op">=</span>OUTPUT_DIR):</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Save processed NDIS data with validation checks</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Parameters:</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="co">    -----------</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="co">    df : pd.DataFrame</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="co">        Processed NDIS data from process_all_snapshots()</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a><span class="co">    output_dir : Path</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a><span class="co">        Directory to save output files</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a><span class="co">        </span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a><span class="co">    --------</span></span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a><span class="co">    dict: Metadata about exported files</span></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create output directory if needed</span></span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>    output_dir.mkdir(exist_ok<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Generate filename</span></span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>    export_date <span class="op">=</span> datetime.now().strftime(<span class="st">"%Y%m</span><span class="sc">%d</span><span class="st">"</span>)</span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>    csv_path <span class="op">=</span> output_dir <span class="op">/</span> <span class="ss">f"ndis_data_raw.csv"</span></span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Validate before export</span></span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>    required_columns <span class="op">=</span> [</span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a>        <span class="st">'timestamp'</span>, <span class="st">'jurisdiction'</span>, <span class="st">'offender_profiles'</span>,</span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a>        <span class="st">'arrestee'</span>, <span class="st">'forensic_profiles'</span>, <span class="st">'ndis_labs'</span>,</span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a>        <span class="st">'investigations_aided'</span></span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> <span class="bu">all</span>(col <span class="kw">in</span> df.columns <span class="cf">for</span> col <span class="kw">in</span> required_columns):</span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a>        missing <span class="op">=</span> <span class="bu">set</span>(required_columns) <span class="op">-</span> <span class="bu">set</span>(df.columns)</span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="ss">f"Missing critical columns: </span><span class="sc">{</span>missing<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Export to CSV</span></span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a>    df.to_csv(csv_path, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">'utf-8'</span>)</span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Generate checksum</span></span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a>    file_size <span class="op">=</span> csv_path.stat().st_size <span class="op">/</span> (<span class="dv">1024</span> <span class="op">*</span> <span class="dv">1024</span>)</span>
<span id="cb38-39"><a href="#cb38-39" aria-hidden="true" tabindex="-1"></a>    record_count <span class="op">=</span> <span class="bu">len</span>(df)</span>
<span id="cb38-40"><a href="#cb38-40" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-41"><a href="#cb38-41" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Return export metadata</span></span>
<span id="cb38-42"><a href="#cb38-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb38-43"><a href="#cb38-43" aria-hidden="true" tabindex="-1"></a>        <span class="st">'export_path'</span>: <span class="bu">str</span>(csv_path.resolve()),</span>
<span id="cb38-44"><a href="#cb38-44" aria-hidden="true" tabindex="-1"></a>        <span class="st">'export_date'</span>: export_date,</span>
<span id="cb38-45"><a href="#cb38-45" aria-hidden="true" tabindex="-1"></a>        <span class="st">'file_size_mb'</span>: <span class="bu">round</span>(file_size, <span class="dv">2</span>),</span>
<span id="cb38-46"><a href="#cb38-46" aria-hidden="true" tabindex="-1"></a>        <span class="st">'record_count'</span>: record_count,</span>
<span id="cb38-47"><a href="#cb38-47" aria-hidden="true" tabindex="-1"></a>        <span class="st">'snapshot_count'</span>: df[<span class="st">'timestamp'</span>].nunique(),</span>
<span id="cb38-48"><a href="#cb38-48" aria-hidden="true" tabindex="-1"></a>        <span class="st">'jurisdiction_count'</span>: df[<span class="st">'jurisdiction'</span>].nunique()</span>
<span id="cb38-49"><a href="#cb38-49" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb38-50"><a href="#cb38-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-51"><a href="#cb38-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Usage example</span></span>
<span id="cb38-52"><a href="#cb38-52" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="st">'ndis_data'</span> <span class="kw">not</span> <span class="kw">in</span> <span class="bu">globals</span>():</span>
<span id="cb38-53"><a href="#cb38-53" aria-hidden="true" tabindex="-1"></a>    ndis_data <span class="op">=</span> process_all_snapshots()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<details class="code-fold">
<summary>Show execution function code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>export_meta <span class="op">=</span> export_ndis_data(ndis_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Data integrity validation.</p>
<ul>
<li><p><strong>Schema Checking:</strong> Ensures proper field types and formats.</p></li>
<li><p><strong>Null Validation:</strong> Confirms mandatory fields are populated.</p></li>
<li><p><strong>Value Sanity Checks:</strong> Verifies non-negative numbers.</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Show validation function code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> verify_export(csv_path):</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Validate exported CSV matches original DataFrame"""</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    exported <span class="op">=</span> pd.read_csv(</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>        csv_path,</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>        dtype<span class="op">=</span>{<span class="st">'timestamp'</span>: <span class="bu">str</span>}</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check basic integrity</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>    checks <span class="op">=</span> {</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">'no_nulls_in_critical_fields'</span>: exported[[</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>            <span class="st">'jurisdiction'</span>, <span class="st">'offender_profiles'</span></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>        ]].isnull().<span class="bu">sum</span>().<span class="bu">sum</span>() <span class="op">==</span> <span class="dv">0</span>,</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">'positive_values'</span>: (exported[</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>            [<span class="st">'offender_profiles'</span>, <span class="st">'forensic_profiles'</span>]</span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>        ] <span class="op">&gt;=</span> <span class="dv">0</span>).<span class="bu">all</span>().<span class="bu">all</span>(),</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">'timestamp_format'</span>: exported[<span class="st">'timestamp'</span>].<span class="bu">str</span>.match(<span class="vs">r'</span><span class="dv">^\d</span><span class="op">{14}</span><span class="dv">$</span><span class="vs">'</span>).<span class="bu">all</span>(),</span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">'valid_jurisdictions'</span>: exported[<span class="st">'jurisdiction'</span>].<span class="bu">str</span>.contains(<span class="st">'[A-Za-z]'</span>).<span class="bu">all</span>()</span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">all</span>(checks.values()):</span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"✓ Export validation passed"</span>)</span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"! Export validation failed:"</span>)</span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> check, passed <span class="kw">in</span> checks.items():</span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"  - </span><span class="sc">{</span>check<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span><span class="st">'✓'</span> <span class="cf">if</span> passed <span class="cf">else</span> <span class="st">'✗'</span><span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb40-28"><a href="#cb40-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-29"><a href="#cb40-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Run verification</span></span>
<span id="cb40-30"><a href="#cb40-30" aria-hidden="true" tabindex="-1"></a>verify_export(export_meta[<span class="st">'export_path'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>✓ Export validation passed
True</code></pre>
</div>
</div>
</section>
<section id="validation" class="level3">
<h3 class="anchored" data-anchor-id="validation">Data Validation</h3>
<section id="cross-valid" class="level4">
<h4 class="anchored" data-anchor-id="cross-valid">Cross-language validation</h4>
<p>This section prepares the environment for cross-language analysis by: 1. Ensuring all required R packages are available 2. Loading the NDIS dataset with proper type specifications 3. Providing basic data validation checks</p>
<div class="cell">
<details class="code-fold">
<summary>Show setup code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List of required packages</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>required_packages <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"tidyverse"</span>,    <span class="co"># Data manipulation and visualization</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"lubridate"</span>,    <span class="co"># Date-time manipulation</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"DT"</span>,           <span class="co"># Interactive tables</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"plotly"</span>,       <span class="co"># Interactive visualizations</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"leaflet"</span>,      <span class="co"># Geospatial mapping</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"kableExtra"</span>,   <span class="co"># Enhanced table formatting</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"scales"</span>,       <span class="co"># Axis scaling and formatting</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"dlookr"</span>,       <span class="co"># Data validation and diagnostics</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gt"</span>,           <span class="co"># Table generation</span></span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"assertr"</span>,      <span class="co"># Data validation and assertions</span></span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"flextable"</span>,    <span class="co"># Enhanced table visualization</span></span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"ggridges"</span>,     <span class="co"># Ridge plots</span></span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"here"</span>,         <span class="co"># File path management</span></span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"patchwork"</span>,    <span class="co"># Data visualization  </span></span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"scales"</span>        <span class="co"># Plot aesthetics</span></span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to install missing packages</span></span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a>install_missing <span class="ot">&lt;-</span> <span class="cf">function</span>(packages) {</span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (pkg <span class="cf">in</span> packages) {</span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">requireNamespace</span>(pkg, <span class="at">quietly =</span> <span class="cn">TRUE</span>)) {</span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a>      <span class="fu">message</span>(<span class="fu">paste</span>(<span class="st">"Installing missing package:"</span>, pkg))</span>
<span id="cb42-25"><a href="#cb42-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">install.packages</span>(pkg, <span class="at">dependencies =</span> <span class="cn">TRUE</span>)</span>
<span id="cb42-26"><a href="#cb42-26" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb42-27"><a href="#cb42-27" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb42-28"><a href="#cb42-28" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb42-29"><a href="#cb42-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-30"><a href="#cb42-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Install any missing packages</span></span>
<span id="cb42-31"><a href="#cb42-31" aria-hidden="true" tabindex="-1"></a><span class="fu">install_missing</span>(required_packages)</span>
<span id="cb42-32"><a href="#cb42-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-33"><a href="#cb42-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Load all packages</span></span>
<span id="cb42-34"><a href="#cb42-34" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>({</span>
<span id="cb42-35"><a href="#cb42-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(tidyverse)</span>
<span id="cb42-36"><a href="#cb42-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(lubridate)</span>
<span id="cb42-37"><a href="#cb42-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(DT)</span>
<span id="cb42-38"><a href="#cb42-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(plotly)</span>
<span id="cb42-39"><a href="#cb42-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(leaflet)</span>
<span id="cb42-40"><a href="#cb42-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(kableExtra)</span>
<span id="cb42-41"><a href="#cb42-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(scales)</span>
<span id="cb42-42"><a href="#cb42-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(dlookr)</span>
<span id="cb42-43"><a href="#cb42-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(gt)</span>
<span id="cb42-44"><a href="#cb42-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(assertr)</span>
<span id="cb42-45"><a href="#cb42-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(flextable)</span>
<span id="cb42-46"><a href="#cb42-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(ggridges)</span>
<span id="cb42-47"><a href="#cb42-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(here)</span>
<span id="cb42-48"><a href="#cb42-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(patchwork)</span>
<span id="cb42-49"><a href="#cb42-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(scales)</span>
<span id="cb42-50"><a href="#cb42-50" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb42-51"><a href="#cb42-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-52"><a href="#cb42-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Verify all packages loaded successfully</span></span>
<span id="cb42-53"><a href="#cb42-53" aria-hidden="true" tabindex="-1"></a>loaded_packages <span class="ot">&lt;-</span> <span class="fu">sapply</span>(required_packages, require, <span class="at">character.only =</span> <span class="cn">TRUE</span>)</span>
<span id="cb42-54"><a href="#cb42-54" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">all</span>(loaded_packages)) {</span>
<span id="cb42-55"><a href="#cb42-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"All packages loaded successfully!"</span>)</span>
<span id="cb42-56"><a href="#cb42-56" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb42-57"><a href="#cb42-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">warning</span>(<span class="st">"The following packages failed to load: "</span>, </span>
<span id="cb42-58"><a href="#cb42-58" aria-hidden="true" tabindex="-1"></a>          <span class="fu">paste</span>(<span class="fu">names</span>(loaded_packages)[<span class="sc">!</span>loaded_packages], <span class="at">collapse =</span> <span class="st">", "</span>))</span>
<span id="cb42-59"><a href="#cb42-59" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="import-valid" class="level4">
<h4 class="anchored" data-anchor-id="import-valid">Data Import and Validation</h4>
<div class="cell">
<details class="code-fold">
<summary>Show data import code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define expected column structure</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>expected_cols <span class="ot">&lt;-</span> <span class="fu">cols</span>(</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">timestamp =</span> <span class="fu">col_character</span>(),</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">capture_date =</span> <span class="fu">col_datetime</span>(<span class="at">format =</span> <span class="st">""</span>),</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">jurisdiction =</span> <span class="fu">col_character</span>(),</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">offender_profiles =</span> <span class="fu">col_double</span>(),</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">arrestee =</span> <span class="fu">col_double</span>(),</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">forensic_profiles =</span> <span class="fu">col_double</span>()</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Read data with validation</span></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>ndis_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>  here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"output"</span>, <span class="st">"ndis"</span>, <span class="st">"ndis_data_raw.csv"</span>),</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_types =</span> expected_cols</span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-af2f44ce{table-layout:auto;width:100%;}.cl-af1909de{font-family:'Arial';font-size:10pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-af1909fc{font-family:'Arial';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-af208024{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-af20d5d8{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d5ec{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d5f6{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d600{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d60a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d614{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d61e{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d61f{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d628{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d632{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d63c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d63d{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d646{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d650{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d651{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d65a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d65b{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d664{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d66e{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d678{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d682{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d683{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d68c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d696{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d697{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d6a0{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d6aa{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d6b4{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d6b5{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d6be{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d6c8{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d6c9{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d6d2{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d6dc{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d6e6{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d6e7{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d6f0{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d6fa{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d704{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d705{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d70e{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d718{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d722{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d72c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d72d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d736{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d740{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af20d754{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-af2f44ce"><thead><tr style="overflow-wrap:break-word;"><th class="cl-af20d5d8"><p class="cl-af208024"><span class="cl-af1909de">Column</span></p></th><th class="cl-af20d5ec"><p class="cl-af208024"><span class="cl-af1909de">Type</span></p></th><th class="cl-af20d5f6"><p class="cl-af208024"><span class="cl-af1909de">Rows</span></p></th><th class="cl-af20d600"><p class="cl-af208024"><span class="cl-af1909de">Missing</span></p></th><th class="cl-af20d60a"><p class="cl-af208024"><span class="cl-af1909de">Unique</span></p></th><th class="cl-af20d614"><p class="cl-af208024"><span class="cl-af1909de">First_Values</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-af20d61e"><p class="cl-af208024"><span class="cl-af1909fc">timestamp</span></p></td><td class="cl-af20d61f"><p class="cl-af208024"><span class="cl-af1909fc">character</span></p></td><td class="cl-af20d628"><p class="cl-af208024"><span class="cl-af1909fc">16361</span></p></td><td class="cl-af20d632"><p class="cl-af208024"><span class="cl-af1909fc">0</span></p></td><td class="cl-af20d63c"><p class="cl-af208024"><span class="cl-af1909fc">303</span></p></td><td class="cl-af20d63d"><p class="cl-af208024"><span class="cl-af1909fc">20101014043819, 20101014043819, 20101014043819</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-af20d646"><p class="cl-af208024"><span class="cl-af1909fc">jurisdiction</span></p></td><td class="cl-af20d650"><p class="cl-af208024"><span class="cl-af1909fc">character</span></p></td><td class="cl-af20d651"><p class="cl-af208024"><span class="cl-af1909fc">16361</span></p></td><td class="cl-af20d65a"><p class="cl-af208024"><span class="cl-af1909fc">0</span></p></td><td class="cl-af20d65b"><p class="cl-af208024"><span class="cl-af1909fc">70</span></p></td><td class="cl-af20d664"><p class="cl-af208024"><span class="cl-af1909fc">Alaska, Arizona, Arkansas</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-af20d66e"><p class="cl-af208024"><span class="cl-af1909fc">offender_profiles</span></p></td><td class="cl-af20d678"><p class="cl-af208024"><span class="cl-af1909fc">numeric</span></p></td><td class="cl-af20d682"><p class="cl-af208024"><span class="cl-af1909fc">16361</span></p></td><td class="cl-af20d683"><p class="cl-af208024"><span class="cl-af1909fc">0</span></p></td><td class="cl-af20d68c"><p class="cl-af208024"><span class="cl-af1909fc">3227</span></p></td><td class="cl-af20d696"><p class="cl-af208024"><span class="cl-af1909fc">20287, 178774, 108969</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-af20d697"><p class="cl-af208024"><span class="cl-af1909fc">arrestee</span></p></td><td class="cl-af20d6a0"><p class="cl-af208024"><span class="cl-af1909fc">numeric</span></p></td><td class="cl-af20d6aa"><p class="cl-af208024"><span class="cl-af1909fc">16361</span></p></td><td class="cl-af20d6b4"><p class="cl-af208024"><span class="cl-af1909fc">0</span></p></td><td class="cl-af20d6b5"><p class="cl-af208024"><span class="cl-af1909fc">1887</span></p></td><td class="cl-af20d6be"><p class="cl-af208024"><span class="cl-af1909fc">0, 0, 0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-af20d66e"><p class="cl-af208024"><span class="cl-af1909fc">forensic_profiles</span></p></td><td class="cl-af20d678"><p class="cl-af208024"><span class="cl-af1909fc">numeric</span></p></td><td class="cl-af20d682"><p class="cl-af208024"><span class="cl-af1909fc">16361</span></p></td><td class="cl-af20d683"><p class="cl-af208024"><span class="cl-af1909fc">0</span></p></td><td class="cl-af20d68c"><p class="cl-af208024"><span class="cl-af1909fc">3195</span></p></td><td class="cl-af20d696"><p class="cl-af208024"><span class="cl-af1909fc">847, 9424, 3955</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-af20d6c8"><p class="cl-af208024"><span class="cl-af1909fc">ndis_labs</span></p></td><td class="cl-af20d6c9"><p class="cl-af208024"><span class="cl-af1909fc">numeric</span></p></td><td class="cl-af20d6d2"><p class="cl-af208024"><span class="cl-af1909fc">16361</span></p></td><td class="cl-af20d632"><p class="cl-af208024"><span class="cl-af1909fc">0</span></p></td><td class="cl-af20d63c"><p class="cl-af208024"><span class="cl-af1909fc">19</span></p></td><td class="cl-af20d6dc"><p class="cl-af208024"><span class="cl-af1909fc">1, 7, 1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-af20d6e6"><p class="cl-af208024"><span class="cl-af1909fc">investigations_aided</span></p></td><td class="cl-af20d6e7"><p class="cl-af208024"><span class="cl-af1909fc">numeric</span></p></td><td class="cl-af20d6f0"><p class="cl-af208024"><span class="cl-af1909fc">16361</span></p></td><td class="cl-af20d65a"><p class="cl-af208024"><span class="cl-af1909fc">0</span></p></td><td class="cl-af20d65b"><p class="cl-af208024"><span class="cl-af1909fc">2703</span></p></td><td class="cl-af20d6fa"><p class="cl-af208024"><span class="cl-af1909fc">304, 3632, 1233</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-af20d6c8"><p class="cl-af208024"><span class="cl-af1909fc">capture_date</span></p></td><td class="cl-af20d6c9"><p class="cl-af208024"><span class="cl-af1909fc">POSIXct, POSIXt</span></p></td><td class="cl-af20d6d2"><p class="cl-af208024"><span class="cl-af1909fc">16361</span></p></td><td class="cl-af20d632"><p class="cl-af208024"><span class="cl-af1909fc">0</span></p></td><td class="cl-af20d63c"><p class="cl-af208024"><span class="cl-af1909fc">303</span></p></td><td class="cl-af20d6dc"><p class="cl-af208024"><span class="cl-af1909fc">2010-10-14 04:38:19, 2010-10-14 04:38:19, 2010-10-14 04:38:19</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-af20d704"><p class="cl-af208024"><span class="cl-af1909fc">year</span></p></td><td class="cl-af20d705"><p class="cl-af208024"><span class="cl-af1909fc">numeric</span></p></td><td class="cl-af20d70e"><p class="cl-af208024"><span class="cl-af1909fc">16361</span></p></td><td class="cl-af20d6b4"><p class="cl-af208024"><span class="cl-af1909fc">0</span></p></td><td class="cl-af20d6b5"><p class="cl-af208024"><span class="cl-af1909fc">12</span></p></td><td class="cl-af20d718"><p class="cl-af208024"><span class="cl-af1909fc">2010, 2010, 2010</span></p></td></tr></tbody><tfoot><tr style="overflow-wrap:break-word;"><td colspan="6" class="cl-af20d722"><p class="cl-af208024"><span class="cl-af1909fc">Data frame dimensions: 16361 rows × 9 columns</span></p></td></tr></tfoot></table></div>
</div>
</div>
</section>
</section>
</section>
<section id="datacleaning" class="level2">
<h2 class="anchored" data-anchor-id="datacleaning">Data Cleaning</h2>
<section id="dtype_stand" class="level3">
<h3 class="anchored" data-anchor-id="dtype_stand">Data Type Standardization</h3>
<p>Ensure consistent data types by:</p>
<ul>
<li><p>Converting jurisdiction to factor for categorical analysis</p></li>
<li><p>Standardizing date formats</p></li>
<li><p>Creating year and era (pre/post 2010) variables for temporal analysis</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Show cleaning code (data type standardization)</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>ndis_clean <span class="ot">&lt;-</span> ndis_data <span class="sc">%&gt;%</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">jurisdiction =</span> <span class="fu">fct_reorder</span>(</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.factor</span>(jurisdiction),</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>      offender_profiles <span class="sc">+</span> arrestee <span class="sc">+</span> forensic_profiles,</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">.fun =</span> sum,</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">.desc =</span> <span class="cn">TRUE</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">timestamp =</span> <span class="fu">as_datetime</span>(timestamp, <span class="at">format =</span> <span class="st">"%Y%m%d%H%M%S"</span>),</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">capture_date =</span> <span class="fu">as_date</span>(capture_date),</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">year</span>(capture_date),</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">month =</span> <span class="fu">month</span>(capture_date, <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="at">abbr =</span> <span class="cn">FALSE</span>, <span class="at">locale =</span> <span class="st">"en_US.UTF-8"</span>),</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">quarter =</span> <span class="fu">quarter</span>(capture_date),</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">era =</span> <span class="fu">cut</span>(</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>      year, </span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">breaks =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="cn">Inf</span>, <span class="dv">2009</span>, <span class="dv">2014</span>, <span class="dv">2019</span>, <span class="cn">Inf</span>),</span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Pre-2010"</span>, <span class="st">"2010-2014"</span>, <span class="st">"2015-2019"</span>, <span class="st">"2020+"</span>)</span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(offender_profiles, arrestee, forensic_profiles, ndis_labs, investigations_aided),</span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a>      as.integer</span>
<span id="cb44-22"><a href="#cb44-22" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb44-23"><a href="#cb44-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_profiles =</span> offender_profiles <span class="sc">+</span> arrestee <span class="sc">+</span> forensic_profiles,</span>
<span id="cb44-24"><a href="#cb44-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">profiles_per_lab =</span> total_profiles <span class="sc">/</span> ndis_labs,</span>
<span id="cb44-25"><a href="#cb44-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">forensic_ratio =</span> forensic_profiles <span class="sc">/</span> total_profiles,</span>
<span id="cb44-26"><a href="#cb44-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">data_quality_flag =</span> <span class="fu">case_when</span>(</span>
<span id="cb44-27"><a href="#cb44-27" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(capture_date) <span class="sc">~</span> <span class="st">"Missing date"</span>,</span>
<span id="cb44-28"><a href="#cb44-28" aria-hidden="true" tabindex="-1"></a>      offender_profiles <span class="sc">&lt;</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"Negative profiles"</span>,</span>
<span id="cb44-29"><a href="#cb44-29" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Valid"</span></span>
<span id="cb44-30"><a href="#cb44-30" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb44-31"><a href="#cb44-31" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb44-32"><a href="#cb44-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">as.factor</span>(year)</span>
<span id="cb44-33"><a href="#cb44-33" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb44-34"><a href="#cb44-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(jurisdiction, capture_date) <span class="sc">%&gt;%</span></span>
<span id="cb44-35"><a href="#cb44-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">verify</span>(<span class="sc">!</span><span class="fu">any</span>(<span class="fu">is.na</span>(capture_date) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(ndis_data<span class="sc">$</span>capture_date))) <span class="sc">%&gt;%</span></span>
<span id="cb44-36"><a href="#cb44-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb44-37"><a href="#cb44-37" aria-hidden="true" tabindex="-1"></a>    investigations_aided <span class="sc">&gt;=</span> <span class="fu">quantile</span>(investigations_aided, <span class="fl">0.01</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb44-38"><a href="#cb44-38" aria-hidden="true" tabindex="-1"></a>    investigations_aided <span class="sc">&lt;=</span> <span class="fu">quantile</span>(investigations_aided, <span class="fl">0.99</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb44-39"><a href="#cb44-39" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb44-40"><a href="#cb44-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-41"><a href="#cb44-41" aria-hidden="true" tabindex="-1"></a><span class="fu">enhanced_glimpse</span>(ndis_clean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-afc0cc14{table-layout:auto;width:100%;}.cl-afab709e{font-family:'Arial';font-size:10pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-afab70b2{font-family:'Arial';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-afb322bc{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-afb3591c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35926{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35927{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35930{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35931{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb3593a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb3593b{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35944{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35945{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb3594e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb3594f{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35958{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35959{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35962{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35963{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35964{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb3596c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb3596d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb3596e{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35976{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35977{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35980{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35981{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb3598a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb3598b{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35994{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35995{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35996{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb3599e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb3599f{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb359a8{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb359a9{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb359b2{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb359b3{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb359b4{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb359bc{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb359bd{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb359c6{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb359c7{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb359d0{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb359d1{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb359da{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb359db{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb359e4{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb359e5{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb359ee{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb359ef{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb359f8{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb359f9{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35a02{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35a03{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35a04{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35a0c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35a0d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35a16{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35a17{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35a20{background-color:rgba(255, 243, 205, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35a21{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35a2a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35a2b{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35a2c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35a34{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35a35{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-afb35a36{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-afc0cc14"><thead><tr style="overflow-wrap:break-word;"><th class="cl-afb3591c"><p class="cl-afb322bc"><span class="cl-afab709e">Column</span></p></th><th class="cl-afb35926"><p class="cl-afb322bc"><span class="cl-afab709e">Type</span></p></th><th class="cl-afb35927"><p class="cl-afb322bc"><span class="cl-afab709e">Rows</span></p></th><th class="cl-afb35930"><p class="cl-afb322bc"><span class="cl-afab709e">Missing</span></p></th><th class="cl-afb35931"><p class="cl-afb322bc"><span class="cl-afab709e">Unique</span></p></th><th class="cl-afb3593a"><p class="cl-afb322bc"><span class="cl-afab709e">First_Values</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-afb3593b"><p class="cl-afb322bc"><span class="cl-afab70b2">timestamp</span></p></td><td class="cl-afb35944"><p class="cl-afb322bc"><span class="cl-afab70b2">POSIXct, POSIXt</span></p></td><td class="cl-afb35945"><p class="cl-afb322bc"><span class="cl-afab70b2">16040</span></p></td><td class="cl-afb3594e"><p class="cl-afb322bc"><span class="cl-afab70b2">0</span></p></td><td class="cl-afb3594f"><p class="cl-afb322bc"><span class="cl-afab70b2">303</span></p></td><td class="cl-afb35958"><p class="cl-afb322bc"><span class="cl-afab70b2">2010-10-14 04:38:19, 2012-07-01 05:27:45, 2012-08-15 16:01:13</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-afb35959"><p class="cl-afb322bc"><span class="cl-afab70b2">jurisdiction</span></p></td><td class="cl-afb35962"><p class="cl-afb322bc"><span class="cl-afab70b2">factor</span></p></td><td class="cl-afb35963"><p class="cl-afb322bc"><span class="cl-afab70b2">16040</span></p></td><td class="cl-afb35964"><p class="cl-afb322bc"><span class="cl-afab70b2">0</span></p></td><td class="cl-afb3596c"><p class="cl-afb322bc"><span class="cl-afab70b2">70</span></p></td><td class="cl-afb3596d"><p class="cl-afb322bc"><span class="cl-afab70b2">California, California, California</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-afb3596e"><p class="cl-afb322bc"><span class="cl-afab70b2">offender_profiles</span></p></td><td class="cl-afb35976"><p class="cl-afb322bc"><span class="cl-afab70b2">integer</span></p></td><td class="cl-afb35977"><p class="cl-afb322bc"><span class="cl-afab70b2">16040</span></p></td><td class="cl-afb35980"><p class="cl-afb322bc"><span class="cl-afab70b2">0</span></p></td><td class="cl-afb35981"><p class="cl-afb322bc"><span class="cl-afab70b2">3176</span></p></td><td class="cl-afb3598a"><p class="cl-afb322bc"><span class="cl-afab70b2">1295199, 1398162, 1400221</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-afb35959"><p class="cl-afb322bc"><span class="cl-afab70b2">arrestee</span></p></td><td class="cl-afb35962"><p class="cl-afb322bc"><span class="cl-afab70b2">integer</span></p></td><td class="cl-afb35963"><p class="cl-afb322bc"><span class="cl-afab70b2">16040</span></p></td><td class="cl-afb35964"><p class="cl-afb322bc"><span class="cl-afab70b2">0</span></p></td><td class="cl-afb3596c"><p class="cl-afb322bc"><span class="cl-afab70b2">1863</span></p></td><td class="cl-afb3596d"><p class="cl-afb322bc"><span class="cl-afab70b2">0, 475205, 485585</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-afb3596e"><p class="cl-afb322bc"><span class="cl-afab70b2">forensic_profiles</span></p></td><td class="cl-afb35976"><p class="cl-afb322bc"><span class="cl-afab70b2">integer</span></p></td><td class="cl-afb35977"><p class="cl-afb322bc"><span class="cl-afab70b2">16040</span></p></td><td class="cl-afb35980"><p class="cl-afb322bc"><span class="cl-afab70b2">0</span></p></td><td class="cl-afb35981"><p class="cl-afb322bc"><span class="cl-afab70b2">3131</span></p></td><td class="cl-afb3598a"><p class="cl-afb322bc"><span class="cl-afab70b2">28456, 41990, 42558</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-afb35959"><p class="cl-afb322bc"><span class="cl-afab70b2">ndis_labs</span></p></td><td class="cl-afb35962"><p class="cl-afb322bc"><span class="cl-afab70b2">integer</span></p></td><td class="cl-afb35963"><p class="cl-afb322bc"><span class="cl-afab70b2">16040</span></p></td><td class="cl-afb35964"><p class="cl-afb322bc"><span class="cl-afab70b2">0</span></p></td><td class="cl-afb3596c"><p class="cl-afb322bc"><span class="cl-afab70b2">19</span></p></td><td class="cl-afb3596d"><p class="cl-afb322bc"><span class="cl-afab70b2">20, 22, 22</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-afb3598b"><p class="cl-afb322bc"><span class="cl-afab70b2">investigations_aided</span></p></td><td class="cl-afb35994"><p class="cl-afb322bc"><span class="cl-afab70b2">integer</span></p></td><td class="cl-afb35995"><p class="cl-afb322bc"><span class="cl-afab70b2">16040</span></p></td><td class="cl-afb35964"><p class="cl-afb322bc"><span class="cl-afab70b2">0</span></p></td><td class="cl-afb3596c"><p class="cl-afb322bc"><span class="cl-afab70b2">2664</span></p></td><td class="cl-afb35996"><p class="cl-afb322bc"><span class="cl-afab70b2">12777, 21667, 21667</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-afb3599e"><p class="cl-afb322bc"><span class="cl-afab70b2">capture_date</span></p></td><td class="cl-afb3599f"><p class="cl-afb322bc"><span class="cl-afab70b2">Date</span></p></td><td class="cl-afb359a8"><p class="cl-afb322bc"><span class="cl-afab70b2">16040</span></p></td><td class="cl-afb3594e"><p class="cl-afb322bc"><span class="cl-afab70b2">0</span></p></td><td class="cl-afb3594f"><p class="cl-afb322bc"><span class="cl-afab70b2">280</span></p></td><td class="cl-afb359a9"><p class="cl-afb322bc"><span class="cl-afab70b2">2010-10-14, 2012-07-01, 2012-08-15</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-afb359b2"><p class="cl-afb322bc"><span class="cl-afab70b2">year</span></p></td><td class="cl-afb359b3"><p class="cl-afb322bc"><span class="cl-afab70b2">factor</span></p></td><td class="cl-afb359b4"><p class="cl-afb322bc"><span class="cl-afab70b2">16040</span></p></td><td class="cl-afb359bc"><p class="cl-afb322bc"><span class="cl-afab70b2">0</span></p></td><td class="cl-afb359bd"><p class="cl-afb322bc"><span class="cl-afab70b2">12</span></p></td><td class="cl-afb359c6"><p class="cl-afb322bc"><span class="cl-afab70b2">2010, 2012, 2012</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-afb359c7"><p class="cl-afb322bc"><span class="cl-afab70b2">month</span></p></td><td class="cl-afb359d0"><p class="cl-afb322bc"><span class="cl-afab70b2">ordered, factor</span></p></td><td class="cl-afb359d1"><p class="cl-afb322bc"><span class="cl-afab70b2">16040</span></p></td><td class="cl-afb359da"><p class="cl-afb322bc"><span class="cl-afab70b2">0</span></p></td><td class="cl-afb359db"><p class="cl-afb322bc"><span class="cl-afab70b2">12</span></p></td><td class="cl-afb359e4"><p class="cl-afb322bc"><span class="cl-afab70b2">October, July, August</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-afb3598b"><p class="cl-afb322bc"><span class="cl-afab70b2">quarter</span></p></td><td class="cl-afb35994"><p class="cl-afb322bc"><span class="cl-afab70b2">integer</span></p></td><td class="cl-afb35995"><p class="cl-afb322bc"><span class="cl-afab70b2">16040</span></p></td><td class="cl-afb35964"><p class="cl-afb322bc"><span class="cl-afab70b2">0</span></p></td><td class="cl-afb3596c"><p class="cl-afb322bc"><span class="cl-afab70b2">4</span></p></td><td class="cl-afb35996"><p class="cl-afb322bc"><span class="cl-afab70b2">4, 3, 3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-afb359e5"><p class="cl-afb322bc"><span class="cl-afab70b2">era</span></p></td><td class="cl-afb359ee"><p class="cl-afb322bc"><span class="cl-afab70b2">factor</span></p></td><td class="cl-afb359ef"><p class="cl-afb322bc"><span class="cl-afab70b2">16040</span></p></td><td class="cl-afb359bc"><p class="cl-afb322bc"><span class="cl-afab70b2">0</span></p></td><td class="cl-afb359bd"><p class="cl-afb322bc"><span class="cl-afab70b2">3</span></p></td><td class="cl-afb359f8"><p class="cl-afb322bc"><span class="cl-afab70b2">2010-2014, 2010-2014, 2010-2014</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-afb3596e"><p class="cl-afb322bc"><span class="cl-afab70b2">total_profiles</span></p></td><td class="cl-afb35976"><p class="cl-afb322bc"><span class="cl-afab70b2">integer</span></p></td><td class="cl-afb35977"><p class="cl-afb322bc"><span class="cl-afab70b2">16040</span></p></td><td class="cl-afb35980"><p class="cl-afb322bc"><span class="cl-afab70b2">0</span></p></td><td class="cl-afb35981"><p class="cl-afb322bc"><span class="cl-afab70b2">3364</span></p></td><td class="cl-afb3598a"><p class="cl-afb322bc"><span class="cl-afab70b2">1323655, 1915357, 1928364</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-afb359f9"><p class="cl-afb322bc"><span class="cl-afab70b2">profiles_per_lab</span></p></td><td class="cl-afb35a02"><p class="cl-afb322bc"><span class="cl-afab70b2">numeric</span></p></td><td class="cl-afb35a03"><p class="cl-afb322bc"><span class="cl-afab70b2">16040</span></p></td><td class="cl-afb35980"><p class="cl-afb322bc"><span class="cl-afab70b2">0</span></p></td><td class="cl-afb35981"><p class="cl-afb322bc"><span class="cl-afab70b2">3359</span></p></td><td class="cl-afb35a04"><p class="cl-afb322bc"><span class="cl-afab70b2">66182.75, 87061.68, 87652.91</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-afb3596e"><p class="cl-afb322bc"><span class="cl-afab70b2">forensic_ratio</span></p></td><td class="cl-afb35976"><p class="cl-afb322bc"><span class="cl-afab70b2">numeric</span></p></td><td class="cl-afb35977"><p class="cl-afb322bc"><span class="cl-afab70b2">16040</span></p></td><td class="cl-afb35980"><p class="cl-afb322bc"><span class="cl-afab70b2">0</span></p></td><td class="cl-afb35981"><p class="cl-afb322bc"><span class="cl-afab70b2">3323</span></p></td><td class="cl-afb3598a"><p class="cl-afb322bc"><span class="cl-afab70b2">0.02, 0.02, 0.02</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-afb35a0c"><p class="cl-afb322bc"><span class="cl-afab70b2">data_quality_flag</span></p></td><td class="cl-afb35a0d"><p class="cl-afb322bc"><span class="cl-afab70b2">character</span></p></td><td class="cl-afb35a16"><p class="cl-afb322bc"><span class="cl-afab70b2">16040</span></p></td><td class="cl-afb35a17"><p class="cl-afb322bc"><span class="cl-afab70b2">0</span></p></td><td class="cl-afb35a20"><p class="cl-afb322bc"><span class="cl-afab70b2">1</span></p></td><td class="cl-afb35a21"><p class="cl-afb322bc"><span class="cl-afab70b2">Valid, Valid, Valid</span></p></td></tr></tbody><tfoot><tr style="overflow-wrap:break-word;"><td colspan="6" class="cl-afb35a2a"><p class="cl-afb322bc"><span class="cl-afab70b2">Data frame dimensions: 16040 rows × 16 columns</span></p></td></tr></tfoot></table></div>
</div>
</div>
</section>
<section id="jurisdic_names" class="level3">
<h3 class="anchored" data-anchor-id="jurisdic_names">Jurisdiction Name Reconciliation</h3>
<p>This section reconciles jurisdiction names between the NDIS dataset and a reference dataset of US jurisdictions, ensuring consistency for analysis.</p>
<p>Before:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Alabama"                                                        
 [2] "Alaska"                                                         
 [3] "and Legal profiles at NDIS. Statistics as of April 2025 Alabama"
 [4] "and Legal profiles at NDIS. Statistics as of March 2025 Alabama"
 [5] "Arizona"                                                        
 [6] "Arkansas"                                                       
 [7] "California"                                                     
 [8] "Colorado"                                                       
 [9] "Connecticut"                                                    
[10] "D.C. map pin). Statistics as of November 2022 Alabama"          
[11] "D.C. map pin.) Statistics as of August 2023 Alabama"            
[12] "D.C. map pin.) Statistics as of February 2024 Alabama"          
[13] "D.C. map pin.) Statistics as of January 2025 Alabama"           
[14] "D.C. map pin.) Statistics as of November 2024 Alabama"          
[15] "D.C. map pin.) Statistics as of October 2024 Alabama"           
[16] "DC"                                                             
[17] "DC/FBI Lab"                                                     
[18] "DC/Metro PD"                                                    
[19] "Delaware"                                                       
[20] "Florida"                                                        
[21] "Georgia"                                                        
[22] "Hawaii"                                                         
[23] "Idaho"                                                          
[24] "Illinois"                                                       
[25] "Indiana"                                                        
[26] "Iowa"                                                           
[27] "Kansas"                                                         
[28] "Kentucky"                                                       
[29] "Louisiana"                                                      
[30] "Maine"                                                          
[31] "Maryland"                                                       
[32] "Massachusetts"                                                  
[33] "Michigan"                                                       
[34] "Minnesota"                                                      
[35] "Mississippi"                                                    
[36] "Missouri"                                                       
[37] "Montana"                                                        
[38] "Nebraska"                                                       
[39] "Nevada"                                                         
[40] "New Hampshire"                                                  
[41] "New Jersey"                                                     
[42] "New Mexico"                                                     
[43] "New York"                                                       
[44] "North Carolina"                                                 
[45] "North Dakota"                                                   
[46] "Ohio"                                                           
[47] "Oklahoma"                                                       
[48] "Oregon"                                                         
[49] "Pennsylvania"                                                   
[50] "Puerto Rico"                                                    
[51] "Rhode Island"                                                   
[52] "South Carolina"                                                 
[53] "South Dakota"                                                   
[54] "Tables by NDIS Participant Alabama"                             
[55] "Tennessee"                                                      
[56] "Texas"                                                          
[57] "U.S. Army"                                                      
[58] "Utah"                                                           
[59] "Vermont"                                                        
[60] "Virginia"                                                       
[61] "Washington"                                                     
[62] "West Virginia"                                                  
[63] "Wisconsin"                                                      
[64] "Wyoming"                                                        
[65] "Wyoming As of August 2010 Alabama"                              
[66] "Wyoming As of August 2012 Alabama"                              
[67] "Wyoming As of July 2012 Alabama"                                
[68] "Wyoming As of June 2012 Alabama"                                
[69] "Wyoming As of May 2012 Alabama"                                 
[70] "Wyoming As of September 2012 Alabama"                           </code></pre>
</div>
</div>
<p>After:</p>
<div class="cell">
<details class="code-fold">
<summary>Show cleaning code (data types)</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Clean jurisdiction names with Alabama-specific patterns</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>ndis_clean <span class="ot">&lt;-</span> ndis_clean <span class="sc">%&gt;%</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">jurisdiction =</span> <span class="fu">case_when</span>(</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(jurisdiction, <span class="st">"Alabama$"</span>) <span class="sc">~</span> <span class="st">"Alabama"</span>,</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(jurisdiction, <span class="st">"DC/FBI|DC/Metro|^DC$|D</span><span class="sc">\\</span><span class="st">.C</span><span class="sc">\\</span><span class="st">. map pin</span><span class="sc">\\</span><span class="st">)"</span>) <span class="sc">~</span> <span class="st">"FBI"</span>,</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>      jurisdiction <span class="sc">==</span> <span class="st">"U.S. Army"</span> <span class="sc">~</span> <span class="st">"FBI"</span>,</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> jurisdiction</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">jurisdiction =</span> <span class="fu">str_trim</span>(jurisdiction),</span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">jurisdiction =</span> <span class="fu">as.factor</span>(jurisdiction)</span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create standardized coordinate reference</span></span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a>jurisdiction_coords <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tribble</span>(</span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>jurisdiction_std,        <span class="sc">~</span>lat,     <span class="sc">~</span>lng,</span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Alabama"</span>,         <span class="fl">32.8067</span>,  <span class="sc">-</span><span class="fl">86.7911</span>,</span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Alaska"</span>,         <span class="fl">66.1605</span>, <span class="sc">-</span><span class="fl">153.3691</span>,</span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Arizona"</span>,        <span class="fl">33.7298</span>, <span class="sc">-</span><span class="fl">111.4312</span>,</span>
<span id="cb46-21"><a href="#cb46-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Arkansas"</span>,       <span class="fl">34.9697</span>,  <span class="sc">-</span><span class="fl">92.3731</span>,</span>
<span id="cb46-22"><a href="#cb46-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">"California"</span>,     <span class="fl">36.1162</span>, <span class="sc">-</span><span class="fl">119.6816</span>,</span>
<span id="cb46-23"><a href="#cb46-23" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Colorado"</span>,       <span class="fl">39.0598</span>, <span class="sc">-</span><span class="fl">105.3111</span>,</span>
<span id="cb46-24"><a href="#cb46-24" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Connecticut"</span>,    <span class="fl">41.5978</span>,  <span class="sc">-</span><span class="fl">72.7554</span>,</span>
<span id="cb46-25"><a href="#cb46-25" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Delaware"</span>,       <span class="fl">39.3185</span>,  <span class="sc">-</span><span class="fl">75.5071</span>,</span>
<span id="cb46-26"><a href="#cb46-26" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Florida"</span>,        <span class="fl">27.7663</span>,  <span class="sc">-</span><span class="fl">81.6868</span>,</span>
<span id="cb46-27"><a href="#cb46-27" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Georgia"</span>,        <span class="fl">33.0406</span>,  <span class="sc">-</span><span class="fl">83.6431</span>,</span>
<span id="cb46-28"><a href="#cb46-28" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Hawaii"</span>,         <span class="fl">21.3068</span>, <span class="sc">-</span><span class="fl">157.7912</span>,</span>
<span id="cb46-29"><a href="#cb46-29" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Idaho"</span>,          <span class="fl">44.2405</span>, <span class="sc">-</span><span class="fl">114.4788</span>,</span>
<span id="cb46-30"><a href="#cb46-30" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Illinois"</span>,       <span class="fl">40.3495</span>,  <span class="sc">-</span><span class="fl">88.9861</span>,</span>
<span id="cb46-31"><a href="#cb46-31" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Indiana"</span>,        <span class="fl">39.8494</span>,  <span class="sc">-</span><span class="fl">86.2583</span>,</span>
<span id="cb46-32"><a href="#cb46-32" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Iowa"</span>,           <span class="fl">42.0115</span>,  <span class="sc">-</span><span class="fl">93.2105</span>,</span>
<span id="cb46-33"><a href="#cb46-33" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Kansas"</span>,         <span class="fl">38.5266</span>,  <span class="sc">-</span><span class="fl">96.7265</span>,</span>
<span id="cb46-34"><a href="#cb46-34" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Kentucky"</span>,       <span class="fl">37.6681</span>,  <span class="sc">-</span><span class="fl">84.6701</span>,</span>
<span id="cb46-35"><a href="#cb46-35" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Louisiana"</span>,      <span class="fl">31.1695</span>,  <span class="sc">-</span><span class="fl">91.8678</span>,</span>
<span id="cb46-36"><a href="#cb46-36" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Maine"</span>,          <span class="fl">44.6939</span>,  <span class="sc">-</span><span class="fl">69.3819</span>,</span>
<span id="cb46-37"><a href="#cb46-37" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Maryland"</span>,       <span class="fl">39.0639</span>,  <span class="sc">-</span><span class="fl">76.8021</span>,</span>
<span id="cb46-38"><a href="#cb46-38" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Massachusetts"</span>,  <span class="fl">42.2302</span>,  <span class="sc">-</span><span class="fl">71.5301</span>,</span>
<span id="cb46-39"><a href="#cb46-39" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Michigan"</span>,       <span class="fl">43.3266</span>,  <span class="sc">-</span><span class="fl">84.5361</span>,</span>
<span id="cb46-40"><a href="#cb46-40" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Minnesota"</span>,      <span class="fl">45.6945</span>,  <span class="sc">-</span><span class="fl">93.9002</span>,</span>
<span id="cb46-41"><a href="#cb46-41" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Mississippi"</span>,    <span class="fl">32.7416</span>,  <span class="sc">-</span><span class="fl">89.6787</span>,</span>
<span id="cb46-42"><a href="#cb46-42" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Missouri"</span>,       <span class="fl">38.4561</span>,  <span class="sc">-</span><span class="fl">92.2884</span>,</span>
<span id="cb46-43"><a href="#cb46-43" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Montana"</span>,        <span class="fl">46.9219</span>, <span class="sc">-</span><span class="fl">110.4544</span>,</span>
<span id="cb46-44"><a href="#cb46-44" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Nebraska"</span>,       <span class="fl">41.1254</span>,  <span class="sc">-</span><span class="fl">98.2681</span>,</span>
<span id="cb46-45"><a href="#cb46-45" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Nevada"</span>,         <span class="fl">38.3135</span>, <span class="sc">-</span><span class="fl">117.0554</span>,</span>
<span id="cb46-46"><a href="#cb46-46" aria-hidden="true" tabindex="-1"></a>  <span class="st">"New Hampshire"</span>,  <span class="fl">43.4525</span>,  <span class="sc">-</span><span class="fl">71.5639</span>,</span>
<span id="cb46-47"><a href="#cb46-47" aria-hidden="true" tabindex="-1"></a>  <span class="st">"New Jersey"</span>,     <span class="fl">40.2989</span>,  <span class="sc">-</span><span class="fl">74.5210</span>,</span>
<span id="cb46-48"><a href="#cb46-48" aria-hidden="true" tabindex="-1"></a>  <span class="st">"New Mexico"</span>,     <span class="fl">34.8405</span>, <span class="sc">-</span><span class="fl">106.2485</span>,</span>
<span id="cb46-49"><a href="#cb46-49" aria-hidden="true" tabindex="-1"></a>  <span class="st">"New York"</span>,       <span class="fl">42.1657</span>,  <span class="sc">-</span><span class="fl">74.9481</span>,</span>
<span id="cb46-50"><a href="#cb46-50" aria-hidden="true" tabindex="-1"></a>  <span class="st">"North Carolina"</span>, <span class="fl">35.6301</span>,  <span class="sc">-</span><span class="fl">79.8064</span>,</span>
<span id="cb46-51"><a href="#cb46-51" aria-hidden="true" tabindex="-1"></a>  <span class="st">"North Dakota"</span>,   <span class="fl">47.5289</span>,  <span class="sc">-</span><span class="fl">99.7840</span>,</span>
<span id="cb46-52"><a href="#cb46-52" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Ohio"</span>,           <span class="fl">40.3888</span>,  <span class="sc">-</span><span class="fl">82.7649</span>,</span>
<span id="cb46-53"><a href="#cb46-53" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Oklahoma"</span>,       <span class="fl">35.5653</span>,  <span class="sc">-</span><span class="fl">96.9289</span>,</span>
<span id="cb46-54"><a href="#cb46-54" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Oregon"</span>,         <span class="fl">44.5720</span>, <span class="sc">-</span><span class="fl">122.0709</span>,</span>
<span id="cb46-55"><a href="#cb46-55" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Pennsylvania"</span>,   <span class="fl">40.5908</span>,  <span class="sc">-</span><span class="fl">77.2098</span>,</span>
<span id="cb46-56"><a href="#cb46-56" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Rhode Island"</span>,   <span class="fl">41.6809</span>,  <span class="sc">-</span><span class="fl">71.5118</span>,</span>
<span id="cb46-57"><a href="#cb46-57" aria-hidden="true" tabindex="-1"></a>  <span class="st">"South Carolina"</span>, <span class="fl">33.8569</span>,  <span class="sc">-</span><span class="fl">80.9450</span>,</span>
<span id="cb46-58"><a href="#cb46-58" aria-hidden="true" tabindex="-1"></a>  <span class="st">"South Dakota"</span>,   <span class="fl">44.2998</span>,  <span class="sc">-</span><span class="fl">99.4388</span>,</span>
<span id="cb46-59"><a href="#cb46-59" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Tennessee"</span>,      <span class="fl">35.7478</span>,  <span class="sc">-</span><span class="fl">86.6923</span>,</span>
<span id="cb46-60"><a href="#cb46-60" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Texas"</span>,          <span class="fl">31.0545</span>,  <span class="sc">-</span><span class="fl">97.5635</span>,</span>
<span id="cb46-61"><a href="#cb46-61" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Utah"</span>,           <span class="fl">40.1500</span>, <span class="sc">-</span><span class="fl">111.8624</span>,</span>
<span id="cb46-62"><a href="#cb46-62" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Vermont"</span>,        <span class="fl">44.0459</span>,  <span class="sc">-</span><span class="fl">72.7107</span>,</span>
<span id="cb46-63"><a href="#cb46-63" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Virginia"</span>,       <span class="fl">37.7693</span>,  <span class="sc">-</span><span class="fl">78.1700</span>,</span>
<span id="cb46-64"><a href="#cb46-64" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Washington"</span>,     <span class="fl">47.4009</span>, <span class="sc">-</span><span class="fl">121.4905</span>,</span>
<span id="cb46-65"><a href="#cb46-65" aria-hidden="true" tabindex="-1"></a>  <span class="st">"West Virginia"</span>,  <span class="fl">38.4912</span>,  <span class="sc">-</span><span class="fl">80.9545</span>,</span>
<span id="cb46-66"><a href="#cb46-66" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Wisconsin"</span>,      <span class="fl">44.2685</span>,  <span class="sc">-</span><span class="fl">89.6165</span>,</span>
<span id="cb46-67"><a href="#cb46-67" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Wyoming"</span>,        <span class="fl">42.7560</span>, <span class="sc">-</span><span class="fl">107.3025</span>,</span>
<span id="cb46-68"><a href="#cb46-68" aria-hidden="true" tabindex="-1"></a>  <span class="st">"FBI"</span>,            <span class="fl">38.9072</span>,  <span class="sc">-</span><span class="fl">77.0369</span>,</span>
<span id="cb46-69"><a href="#cb46-69" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Puerto Rico"</span>,    <span class="fl">18.2208</span>,  <span class="sc">-</span><span class="fl">66.5901</span>,</span>
<span id="cb46-70"><a href="#cb46-70" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Virgin Islands"</span>, <span class="fl">18.3358</span>, <span class="sc">-</span><span class="fl">64.8963</span></span>
<span id="cb46-71"><a href="#cb46-71" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb46-72"><a href="#cb46-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-73"><a href="#cb46-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Join cleaned data with coordinates</span></span>
<span id="cb46-74"><a href="#cb46-74" aria-hidden="true" tabindex="-1"></a>ndis_clean <span class="ot">&lt;-</span> ndis_clean <span class="sc">%&gt;%</span></span>
<span id="cb46-75"><a href="#cb46-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(jurisdiction_coords, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"jurisdiction"</span> <span class="ot">=</span> <span class="st">"jurisdiction_std"</span>))</span>
<span id="cb46-76"><a href="#cb46-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-77"><a href="#cb46-77" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to factor ordered by total profiles</span></span>
<span id="cb46-78"><a href="#cb46-78" aria-hidden="true" tabindex="-1"></a>ndis_clean <span class="ot">&lt;-</span> ndis_clean <span class="sc">%&gt;%</span></span>
<span id="cb46-79"><a href="#cb46-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb46-80"><a href="#cb46-80" aria-hidden="true" tabindex="-1"></a>    <span class="at">jurisdiction =</span> <span class="fu">fct_reorder</span>(</span>
<span id="cb46-81"><a href="#cb46-81" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.factor</span>(jurisdiction),</span>
<span id="cb46-82"><a href="#cb46-82" aria-hidden="true" tabindex="-1"></a>      offender_profiles <span class="sc">+</span> arrestee <span class="sc">+</span> forensic_profiles,</span>
<span id="cb46-83"><a href="#cb46-83" aria-hidden="true" tabindex="-1"></a>      <span class="at">.fun =</span> sum,</span>
<span id="cb46-84"><a href="#cb46-84" aria-hidden="true" tabindex="-1"></a>      <span class="at">.desc =</span> <span class="cn">TRUE</span></span>
<span id="cb46-85"><a href="#cb46-85" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb46-86"><a href="#cb46-86" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code> [1] "FBI"            "Florida"        "California"     "Texas"         
 [5] "Ohio"           "New York"       "Illinois"       "Louisiana"     
 [9] "Michigan"       "Colorado"       "Virginia"       "Arizona"       
[13] "Pennsylvania"   "Missouri"       "Tennessee"      "Georgia"       
[17] "Indiana"        "New Jersey"     "North Carolina" "Alabama"       
[21] "Wisconsin"      "Washington"     "South Carolina" "Oregon"        
[25] "Arkansas"       "Kansas"         "Nevada"         "Kentucky"      
[29] "Minnesota"      "Maryland"       "Oklahoma"       "Massachusetts" 
[33] "Iowa"           "New Mexico"     "Utah"           "Mississippi"   
[37] "Connecticut"    "South Dakota"   "Alaska"         "Idaho"         
[41] "Nebraska"       "North Dakota"   "Montana"        "Hawaii"        
[45] "West Virginia"  "Maine"          "Wyoming"        "Rhode Island"  
[49] "Vermont"        "Puerto Rico"    "Delaware"       "New Hampshire" </code></pre>
</div>
</div>
</section>
<section id="export-dataset" class="level3">
<h3 class="anchored" data-anchor-id="export-dataset">Export Cleaned Dataset</h3>
<p>After cleaning and processing the NDIS data, the final dataset is exported as a CSV file for further analysis or sharing. The file is saved to the <code>data/v1.0/</code> directory to maintain an organized workflow.</p>
<p><strong>Output:</strong> <code>ndis_data_v1.0.csv</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>output_path <span class="ot">&lt;-</span> <span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"v1.0"</span>, <span class="st">"ndis_data_v1.0.csv"</span>)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(ndis_clean, <span class="at">file =</span> output_path, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="summarystats" class="level2">
<h2 class="anchored" data-anchor-id="summarystats">Summary Statistics</h2>
<p>Basic descriptive statistics to understand the scope and characteristics of the NDIS data.</p>
<section id="EDA" class="level3">
<h3 class="anchored" data-anchor-id="EDA">Exploratory Data Analysis</h3>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-b12c904c{}.cl-b113a1ae{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-b11c0600{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-b11c0614{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-b11c5466{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b11c547a{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b11c547b{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b11c5484{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b11c5485{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b11c548e{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-b12c904c"><thead><tr style="overflow-wrap:break-word;"><th class="cl-b11c5466"><p class="cl-b11c0600"><span class="cl-b113a1ae">described_variables</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">n</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">na</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">mean</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">sd</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">se_mean</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">IQR</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">skewness</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">kurtosis</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">p00</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">p01</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">p05</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">p10</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">p20</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">p25</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">p30</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">p40</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">p50</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">p60</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">p70</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">p75</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">p80</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">p90</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">p95</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">p99</span></p></th><th class="cl-b11c547a"><p class="cl-b11c0614"><span class="cl-b113a1ae">p100</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-b11c547b"><p class="cl-b11c0600"><span class="cl-b113a1ae">offender_profiles</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">16,040</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">243,283.33802993</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">306,610.0477370</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">2,420.9409736375</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">273,098.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">3.2656373</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">16.591168</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.000000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.000000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">15,996.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">22,101.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">31,820.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">39,382.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">57,369.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">115,119.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">154,617.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">205,598.000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">282,080.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">312,480.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">355,353.80000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">517,427.7000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">914,729.000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">1,408,281.0000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">3,566,774.0000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b11c547b"><p class="cl-b11c0600"><span class="cl-b113a1ae">arrestee</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">16,040</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">62,553.37250623</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">122,592.8883098</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">967.9726694421</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">59,956.25000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">3.0344645</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">10.418851</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.000000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.000000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">5,438.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">29,437.800000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">51,573.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">59,956.25000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">79,910.20000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">179,078.0000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">363,679.000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">530,189.0000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">838,728.0000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b11c547b"><p class="cl-b11c0600"><span class="cl-b113a1ae">forensic_profiles</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">16,040</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">17,430.15635910</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">21,757.9561573</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">171.7971343488</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">19,095.25000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">2.2543159</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">4.972707</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">269.000000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">323.000000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">985.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">1,526.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">2,072.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">2,592.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">3,397.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">7,682.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">10,938.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">14,557.000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">19,356.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">21,687.25000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">24,111.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">38,710.0000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">75,037.000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">97,866.0000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">115,444.0000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b11c547b"><p class="cl-b11c0600"><span class="cl-b113a1ae">ndis_labs</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">16,040</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">3.54943890</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">3.7501194</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.0296103068</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">4.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">2.4674086</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">8.036536</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.000000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">1.000000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">1.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">1.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">1.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">1.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">1.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">1.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">2.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">3.000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">4.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">5.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">6.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">8.0000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">10.000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">17.0000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">24.0000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b11c547b"><p class="cl-b11c0600"><span class="cl-b113a1ae">investigations_aided</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">16,040</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">8,152.04507481</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">11,521.9732900</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">90.9755483903</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">8,979.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">2.8482161</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">10.072183</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">47.000000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">55.000000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">165.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">280.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">629.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">809.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">1,012.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">2,777.40000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">4,736.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">6,460.000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">8,703.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">9,788.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">11,293.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">19,547.0000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">32,720.000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">54,761.9700</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">87,331.0000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b11c547b"><p class="cl-b11c0600"><span class="cl-b113a1ae">quarter</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">16,040</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">2.65885287</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">1.1577179</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.0091411441</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">2.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">-0.2078388</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">-1.412008</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">1.000000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">1.000000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">1.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">1.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">1.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">2.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">2.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">2.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">3.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">3.000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">4.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">4.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">4.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">4.0000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">4.000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">4.0000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">4.0000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b11c547b"><p class="cl-b11c0600"><span class="cl-b113a1ae">total_profiles</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">16,040</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">323,266.86689526</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">412,549.0478656</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">3,257.4173644483</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">350,365.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">3.3451222</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">15.790120</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">843.000000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">3,188.000000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">20,065.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">25,617.60000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">43,139.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">58,551.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">84,082.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">145,139.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">202,693.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">270,279.000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">367,848.70000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">408,916.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">459,869.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">711,143.0000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">1,153,432.000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">1,973,368.0000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">4,100,694.0000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b11c547b"><p class="cl-b11c0600"><span class="cl-b113a1ae">profiles_per_lab</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">16,040</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">Inf</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae"></span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae"></span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">79,245.68750000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae"></span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae"></span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">843.000000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">3,188.000000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">20,067.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">25,485.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">39,512.28571429</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">43,925.81250000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">48,673.66000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">60,443.71428571</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">72,277.71428571</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">88,892.925000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">110,835.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">123,171.50000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">133,191.00000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">166,616.5000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">223,374.000000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">655,046.0000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">Inf</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b11c547b"><p class="cl-b11c0600"><span class="cl-b113a1ae">forensic_ratio</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">16,040</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.07170763</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.1252021</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.0009885745</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.03093689</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">7.0012609</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">49.029156</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.002815865</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.005811996</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.01322386</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.02639537</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.03671001</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.04030132</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.04298347</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.04890048</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.05439616</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.060447</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.06691441</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.07123821</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.07588754</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.0900196</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.104592</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">1.0000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">1.0000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b11c547b"><p class="cl-b11c0600"><span class="cl-b113a1ae">lat</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">16,040</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">39.23306810</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">6.7660535</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.0534236117</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">7.12590000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.3132534</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">4.587084</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">18.220800000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">18.220800000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">27.76630000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">32.74160000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">34.84050000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">35.63010000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">37.66810000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">38.52660000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">39.31850000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">40.388800</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">42.01150000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">42.75600000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">44.04590000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">44.6939000</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">47.400900</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">66.1605</span></p></td><td class="cl-b11c5484"><p class="cl-b11c0614"><span class="cl-b113a1ae">66.1605</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b11c5485"><p class="cl-b11c0600"><span class="cl-b113a1ae">lng</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">16,040</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">0</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">-92.07048767</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">19.0900470</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">0.1507317761</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">22.74710000</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">-1.4258429</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">2.377921</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">-157.791200000</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">-157.791200000</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">-122.07090000</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">-117.05540000</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">-106.24850000</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">-99.78400000</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">-97.56350000</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">-92.37310000</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">-86.79110000</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">-83.643100</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">-79.80640000</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">-77.03690000</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">-76.80210000</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">-72.7107000</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">-71.511800</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">-66.5901</span></p></td><td class="cl-b11c548e"><p class="cl-b11c0614"><span class="cl-b113a1ae">-66.5901</span></p></td></tr></tbody></table></div>
</div>
</div>
</section>
<section id="summary_table" class="level3">
<h3 class="anchored" data-anchor-id="summary_table">Summary Statistics Table</h3>
<div class="cell">
<details class="code-fold">
<summary>Show summary statistics code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary statistics table</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>ndis_summary <span class="ot">&lt;-</span> ndis_clean <span class="sc">%&gt;%</span> </span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span> </span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">jurisdictions =</span> <span class="fu">n_distinct</span>(jurisdiction),</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_profiles =</span> <span class="fu">sum</span>(offender_profiles <span class="sc">+</span> arrestee <span class="sc">+</span> forensic_profiles),</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">offender =</span> <span class="fu">sum</span>(offender_profiles),</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">arrestee =</span> <span class="fu">sum</span>(arrestee),</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">forensic =</span> <span class="fu">sum</span>(forensic_profiles),</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">'drop'</span></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(year)</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Print summary table</span></span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(ndis_summary, <span class="at">caption =</span> <span class="st">"Annual Summary Statistics"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Annual Summary Statistics</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">year</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">jurisdictions</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">total_profiles</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">offender</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">arrestee</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">forensic</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2010</td>
<td style="text-align: right;">45</td>
<td style="text-align: right;">8508644</td>
<td style="text-align: right;">8178672</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">329972</td>
</tr>
<tr class="even">
<td style="text-align: left;">2012</td>
<td style="text-align: right;">49</td>
<td style="text-align: right;">299778328</td>
<td style="text-align: right;">256596189</td>
<td style="text-align: right;">31587669</td>
<td style="text-align: right;">11594470</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2016</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">46557227</td>
<td style="text-align: right;">37157909</td>
<td style="text-align: right;">7245330</td>
<td style="text-align: right;">2153988</td>
</tr>
<tr class="even">
<td style="text-align: left;">2017</td>
<td style="text-align: right;">51</td>
<td style="text-align: right;">309133784</td>
<td style="text-align: right;">243177581</td>
<td style="text-align: right;">51288288</td>
<td style="text-align: right;">14667915</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2018</td>
<td style="text-align: right;">52</td>
<td style="text-align: right;">455752881</td>
<td style="text-align: right;">349543991</td>
<td style="text-align: right;">83493289</td>
<td style="text-align: right;">22715601</td>
</tr>
<tr class="even">
<td style="text-align: left;">2019</td>
<td style="text-align: right;">52</td>
<td style="text-align: right;">935474872</td>
<td style="text-align: right;">705003577</td>
<td style="text-align: right;">182304516</td>
<td style="text-align: right;">48166779</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2020</td>
<td style="text-align: right;">52</td>
<td style="text-align: right;">954251249</td>
<td style="text-align: right;">710676006</td>
<td style="text-align: right;">190415477</td>
<td style="text-align: right;">53159766</td>
</tr>
<tr class="even">
<td style="text-align: left;">2021</td>
<td style="text-align: right;">51</td>
<td style="text-align: right;">959530751</td>
<td style="text-align: right;">707845200</td>
<td style="text-align: right;">196000371</td>
<td style="text-align: right;">55685180</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2022</td>
<td style="text-align: right;">51</td>
<td style="text-align: right;">346070560</td>
<td style="text-align: right;">253676220</td>
<td style="text-align: right;">72097920</td>
<td style="text-align: right;">20296420</td>
</tr>
<tr class="even">
<td style="text-align: left;">2023</td>
<td style="text-align: right;">51</td>
<td style="text-align: right;">336319248</td>
<td style="text-align: right;">244970427</td>
<td style="text-align: right;">71631918</td>
<td style="text-align: right;">19716903</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2024</td>
<td style="text-align: right;">51</td>
<td style="text-align: right;">281753104</td>
<td style="text-align: right;">204871326</td>
<td style="text-align: right;">60599844</td>
<td style="text-align: right;">16281934</td>
</tr>
<tr class="even">
<td style="text-align: left;">2025</td>
<td style="text-align: right;">51</td>
<td style="text-align: right;">252069897</td>
<td style="text-align: right;">180567644</td>
<td style="text-align: right;">56691473</td>
<td style="text-align: right;">14810780</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="visualiz" class="level2">
<h2 class="anchored" data-anchor-id="visualiz">Data Visualization</h2>
<section id="time_series" class="level3">
<h3 class="anchored" data-anchor-id="time_series">Time-Series Analysis</h3>
<p>Visualization of the growth of different profile types (offender, arrestee, forensic) over time, with separate trends for each jurisdiction and smoothed aggregate trends.</p>
<section id="ndis-profile-growth-by-year" class="level4">
<h4 class="anchored" data-anchor-id="ndis-profile-growth-by-year">NDIS Profile Growth by Year</h4>
<div class="cell">
<details class="code-fold">
<summary>Show time-series analysis code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate by year and profile type</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>yearly_growth <span class="ot">&lt;-</span> ndis_clean <span class="sc">%&gt;%</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">year</span>(capture_date)) <span class="sc">%&gt;%</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Offender =</span> <span class="fu">sum</span>(offender_profiles, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Arrestee =</span> <span class="fu">sum</span>(arrestee, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Forensic =</span> <span class="fu">sum</span>(forensic_profiles, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="sc">-</span>year,</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"profile_type"</span>,</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"count"</span></span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Clean interactive plot</span></span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_ly</span>(yearly_growth) <span class="sc">%&gt;%</span></span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(</span>
<span id="cb50-19"><a href="#cb50-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="sc">~</span>year, </span>
<span id="cb50-20"><a href="#cb50-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="sc">~</span>count,</span>
<span id="cb50-21"><a href="#cb50-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="sc">~</span>profile_type,</span>
<span id="cb50-22"><a href="#cb50-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"#1f77b4"</span>, <span class="st">"#ff7f0e"</span>, <span class="st">"#2ca02c"</span>),</span>
<span id="cb50-23"><a href="#cb50-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"scatter"</span>,</span>
<span id="cb50-24"><a href="#cb50-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">mode =</span> <span class="st">"lines+markers"</span>,</span>
<span id="cb50-25"><a href="#cb50-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">hoverinfo =</span> <span class="st">"text"</span>,</span>
<span id="cb50-26"><a href="#cb50-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">text =</span> <span class="sc">~</span><span class="fu">paste</span>(</span>
<span id="cb50-27"><a href="#cb50-27" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;/br&gt;Year:"</span>, year,</span>
<span id="cb50-28"><a href="#cb50-28" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;/br&gt;Profile Type:"</span>, profile_type,</span>
<span id="cb50-29"><a href="#cb50-29" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;/br&gt;Count:"</span>, <span class="fu">format</span>(count, <span class="at">big.mark =</span> <span class="st">","</span>)</span>
<span id="cb50-30"><a href="#cb50-30" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb50-31"><a href="#cb50-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">line =</span> <span class="fu">list</span>(<span class="at">width =</span> <span class="dv">3</span>),</span>
<span id="cb50-32"><a href="#cb50-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">6</span>)</span>
<span id="cb50-33"><a href="#cb50-33" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb50-34"><a href="#cb50-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb50-35"><a href="#cb50-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">""</span>,</span>
<span id="cb50-36"><a href="#cb50-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(</span>
<span id="cb50-37"><a href="#cb50-37" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">"Year"</span>, </span>
<span id="cb50-38"><a href="#cb50-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">dtick =</span> <span class="dv">1</span>,</span>
<span id="cb50-39"><a href="#cb50-39" aria-hidden="true" tabindex="-1"></a>      <span class="at">showline =</span> <span class="cn">TRUE</span>,</span>
<span id="cb50-40"><a href="#cb50-40" aria-hidden="true" tabindex="-1"></a>      <span class="at">mirror =</span> <span class="cn">TRUE</span>,</span>
<span id="cb50-41"><a href="#cb50-41" aria-hidden="true" tabindex="-1"></a>      <span class="at">showgrid =</span> <span class="cn">FALSE</span></span>
<span id="cb50-42"><a href="#cb50-42" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb50-43"><a href="#cb50-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(</span>
<span id="cb50-44"><a href="#cb50-44" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">"Total Profiles"</span>,</span>
<span id="cb50-45"><a href="#cb50-45" aria-hidden="true" tabindex="-1"></a>      <span class="at">type =</span> <span class="st">"log"</span>,</span>
<span id="cb50-46"><a href="#cb50-46" aria-hidden="true" tabindex="-1"></a>      <span class="at">tickformat =</span> <span class="st">",.0f"</span>,</span>
<span id="cb50-47"><a href="#cb50-47" aria-hidden="true" tabindex="-1"></a>      <span class="at">showline =</span> <span class="cn">TRUE</span>,</span>
<span id="cb50-48"><a href="#cb50-48" aria-hidden="true" tabindex="-1"></a>      <span class="at">mirror =</span> <span class="cn">TRUE</span>,</span>
<span id="cb50-49"><a href="#cb50-49" aria-hidden="true" tabindex="-1"></a>      <span class="at">showgrid =</span> <span class="cn">FALSE</span></span>
<span id="cb50-50"><a href="#cb50-50" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb50-51"><a href="#cb50-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">hovermode =</span> <span class="st">"x unified"</span>,</span>
<span id="cb50-52"><a href="#cb50-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend =</span> <span class="fu">list</span>(</span>
<span id="cb50-53"><a href="#cb50-53" aria-hidden="true" tabindex="-1"></a>      <span class="at">orientation =</span> <span class="st">"h"</span>,</span>
<span id="cb50-54"><a href="#cb50-54" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="fl">0.5</span>,</span>
<span id="cb50-55"><a href="#cb50-55" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="fl">1.1</span>,</span>
<span id="cb50-56"><a href="#cb50-56" aria-hidden="true" tabindex="-1"></a>      <span class="at">xanchor =</span> <span class="st">"center"</span></span>
<span id="cb50-57"><a href="#cb50-57" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb50-58"><a href="#cb50-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">margin =</span> <span class="fu">list</span>(<span class="at">t =</span> <span class="dv">50</span>, <span class="at">b =</span> <span class="dv">50</span>),</span>
<span id="cb50-59"><a href="#cb50-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">showlegend =</span> <span class="cn">TRUE</span></span>
<span id="cb50-60"><a href="#cb50-60" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb50-61"><a href="#cb50-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">displayModeBar =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-a682926fee6ff966d696" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-a682926fee6ff966d696">{"x":{"visdat":{"59387fe3b2b":["function () ","plotlyVisDat"]},"cur_data":"59387fe3b2b","attrs":{"59387fe3b2b":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"color":{},"colors":["#1f77b4","#ff7f0e","#2ca02c"],"type":"scatter","mode":"lines+markers","hoverinfo":"text","text":{},"line":{"width":3},"marker":{"size":6},"inherit":true}},"layout":{"margin":{"b":50,"l":60,"t":50,"r":10},"title":"","xaxis":{"domain":[0,1],"automargin":true,"title":"Year","dtick":1,"showline":true,"mirror":true,"showgrid":false},"yaxis":{"domain":[0,1],"automargin":true,"title":"Total Profiles","type":"log","tickformat":",.0f","showline":true,"mirror":true,"showgrid":false},"hovermode":"x unified","legend":{"orientation":"h","x":0.5,"y":1.1000000000000001,"xanchor":"center"},"showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"displayModeBar":true},"data":[{"x":[2010,2012,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025],"y":[0,31587669,7245330,51288288,83493289,182304516,190415477,196000371,72097920,71631918,60599844,56691473],"type":"scatter","mode":"lines+markers","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<\/br>Year: 2010 <\/br>Profile Type: Arrestee <\/br>Count:           0","<\/br>Year: 2012 <\/br>Profile Type: Arrestee <\/br>Count:  31,587,669","<\/br>Year: 2016 <\/br>Profile Type: Arrestee <\/br>Count:   7,245,330","<\/br>Year: 2017 <\/br>Profile Type: Arrestee <\/br>Count:  51,288,288","<\/br>Year: 2018 <\/br>Profile Type: Arrestee <\/br>Count:  83,493,289","<\/br>Year: 2019 <\/br>Profile Type: Arrestee <\/br>Count: 182,304,516","<\/br>Year: 2020 <\/br>Profile Type: Arrestee <\/br>Count: 190,415,477","<\/br>Year: 2021 <\/br>Profile Type: Arrestee <\/br>Count: 196,000,371","<\/br>Year: 2022 <\/br>Profile Type: Arrestee <\/br>Count:  72,097,920","<\/br>Year: 2023 <\/br>Profile Type: Arrestee <\/br>Count:  71,631,918","<\/br>Year: 2024 <\/br>Profile Type: Arrestee <\/br>Count:  60,599,844","<\/br>Year: 2025 <\/br>Profile Type: Arrestee <\/br>Count:  56,691,473"],"line":{"color":"rgba(31,119,180,1)","width":3},"marker":{"color":"rgba(31,119,180,1)","size":6,"line":{"color":"rgba(31,119,180,1)"}},"name":"Arrestee","textfont":{"color":"rgba(31,119,180,1)"},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2010,2012,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025],"y":[329972,11594470,2153988,14667915,22715601,48166779,53159766,55685180,20296420,19716903,16281934,14810780],"type":"scatter","mode":"lines+markers","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<\/br>Year: 2010 <\/br>Profile Type: Forensic <\/br>Count:     329,972","<\/br>Year: 2012 <\/br>Profile Type: Forensic <\/br>Count:  11,594,470","<\/br>Year: 2016 <\/br>Profile Type: Forensic <\/br>Count:   2,153,988","<\/br>Year: 2017 <\/br>Profile Type: Forensic <\/br>Count:  14,667,915","<\/br>Year: 2018 <\/br>Profile Type: Forensic <\/br>Count:  22,715,601","<\/br>Year: 2019 <\/br>Profile Type: Forensic <\/br>Count:  48,166,779","<\/br>Year: 2020 <\/br>Profile Type: Forensic <\/br>Count:  53,159,766","<\/br>Year: 2021 <\/br>Profile Type: Forensic <\/br>Count:  55,685,180","<\/br>Year: 2022 <\/br>Profile Type: Forensic <\/br>Count:  20,296,420","<\/br>Year: 2023 <\/br>Profile Type: Forensic <\/br>Count:  19,716,903","<\/br>Year: 2024 <\/br>Profile Type: Forensic <\/br>Count:  16,281,934","<\/br>Year: 2025 <\/br>Profile Type: Forensic <\/br>Count:  14,810,780"],"line":{"color":"rgba(255,127,14,1)","width":3},"marker":{"color":"rgba(255,127,14,1)","size":6,"line":{"color":"rgba(255,127,14,1)"}},"name":"Forensic","textfont":{"color":"rgba(255,127,14,1)"},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2010,2012,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025],"y":[8178672,256596189,37157909,243177581,349543991,705003577,710676006,707845200,253676220,244970427,204871326,180567644],"type":"scatter","mode":"lines+markers","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<\/br>Year: 2010 <\/br>Profile Type: Offender <\/br>Count:   8,178,672","<\/br>Year: 2012 <\/br>Profile Type: Offender <\/br>Count: 256,596,189","<\/br>Year: 2016 <\/br>Profile Type: Offender <\/br>Count:  37,157,909","<\/br>Year: 2017 <\/br>Profile Type: Offender <\/br>Count: 243,177,581","<\/br>Year: 2018 <\/br>Profile Type: Offender <\/br>Count: 349,543,991","<\/br>Year: 2019 <\/br>Profile Type: Offender <\/br>Count: 705,003,577","<\/br>Year: 2020 <\/br>Profile Type: Offender <\/br>Count: 710,676,006","<\/br>Year: 2021 <\/br>Profile Type: Offender <\/br>Count: 707,845,200","<\/br>Year: 2022 <\/br>Profile Type: Offender <\/br>Count: 253,676,220","<\/br>Year: 2023 <\/br>Profile Type: Offender <\/br>Count: 244,970,427","<\/br>Year: 2024 <\/br>Profile Type: Offender <\/br>Count: 204,871,326","<\/br>Year: 2025 <\/br>Profile Type: Offender <\/br>Count: 180,567,644"],"line":{"color":"rgba(44,160,44,1)","width":3},"marker":{"color":"rgba(44,160,44,1)","size":6,"line":{"color":"rgba(44,160,44,1)"}},"name":"Offender","textfont":{"color":"rgba(44,160,44,1)"},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show plot code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Custom theme modifications</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>custom_theme <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"black"</span>),</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.ticks =</span> <span class="fu">element_line</span>(),</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure year as factor</span></span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a>ndis_clean <span class="ot">&lt;-</span> ndis_clean <span class="sc">%&gt;%</span></span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.factor</span>(year))</span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Modified plotting function</span></span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a>create_factor_plot <span class="ot">&lt;-</span> <span class="cf">function</span>(data, y_var, color, title) {</span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a>  data <span class="sc">%&gt;%</span></span>
<span id="cb51-20"><a href="#cb51-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb51-21"><a href="#cb51-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">total =</span> <span class="fu">sum</span>({{y_var}}, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb51-22"><a href="#cb51-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> total, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb51-23"><a href="#cb51-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="fl">1.2</span>, <span class="at">color =</span> color) <span class="sc">+</span></span>
<span id="cb51-24"><a href="#cb51-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">color =</span> color) <span class="sc">+</span></span>
<span id="cb51-25"><a href="#cb51-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> title, <span class="at">y =</span> <span class="cn">NULL</span>, <span class="at">x =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb51-26"><a href="#cb51-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="cf">function</span>(x) <span class="fu">paste0</span>(x<span class="sc">/</span><span class="fl">1e6</span>, <span class="st">"M"</span>)) <span class="sc">+</span></span>
<span id="cb51-27"><a href="#cb51-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_discrete</span>(<span class="at">breaks =</span> <span class="fu">unique</span>(ndis_clean<span class="sc">$</span>year)) <span class="sc">+</span></span>
<span id="cb51-28"><a href="#cb51-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">custom_theme</span>() <span class="sc">+</span></span>
<span id="cb51-29"><a href="#cb51-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb51-30"><a href="#cb51-30" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb51-31"><a href="#cb51-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-32"><a href="#cb51-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate plots</span></span>
<span id="cb51-33"><a href="#cb51-33" aria-hidden="true" tabindex="-1"></a>plot_offender <span class="ot">&lt;-</span> <span class="fu">create_factor_plot</span>(ndis_clean, offender_profiles, <span class="st">"#1f77b4"</span>, <span class="st">"Offender Profiles"</span>)</span>
<span id="cb51-34"><a href="#cb51-34" aria-hidden="true" tabindex="-1"></a>plot_arrestee <span class="ot">&lt;-</span> <span class="fu">create_factor_plot</span>(ndis_clean, arrestee, <span class="st">"#ff7f0e"</span>, <span class="st">"Arrestee Profiles"</span>)</span>
<span id="cb51-35"><a href="#cb51-35" aria-hidden="true" tabindex="-1"></a>plot_forensic <span class="ot">&lt;-</span> <span class="fu">create_factor_plot</span>(ndis_clean, forensic_profiles, <span class="st">"#2ca02c"</span>, <span class="st">"Forensic Profiles"</span>) <span class="sc">+</span></span>
<span id="cb51-36"><a href="#cb51-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>)</span>
<span id="cb51-37"><a href="#cb51-37" aria-hidden="true" tabindex="-1"></a>plot_investigations <span class="ot">&lt;-</span> <span class="fu">create_factor_plot</span>(ndis_clean, investigations_aided, <span class="st">"#9467bd"</span>, <span class="st">"Investigations Aided"</span>) <span class="sc">+</span></span>
<span id="cb51-38"><a href="#cb51-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>)</span>
<span id="cb51-39"><a href="#cb51-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-40"><a href="#cb51-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine with patchwork</span></span>
<span id="cb51-41"><a href="#cb51-41" aria-hidden="true" tabindex="-1"></a>final_viz <span class="ot">&lt;-</span> (plot_offender <span class="sc">|</span> plot_arrestee) <span class="sc">/</span> </span>
<span id="cb51-42"><a href="#cb51-42" aria-hidden="true" tabindex="-1"></a>             (plot_forensic <span class="sc">|</span> plot_investigations) <span class="sc">+</span></span>
<span id="cb51-43"><a href="#cb51-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(</span>
<span id="cb51-44"><a href="#cb51-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"NDIS Database National Totals (2010-2025)"</span>,</span>
<span id="cb51-45"><a href="#cb51-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Values in millions (M) of profiles/cases"</span>,</span>
<span id="cb51-46"><a href="#cb51-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Source: FBI NDIS Statistics via Wayback Machine"</span>,</span>
<span id="cb51-47"><a href="#cb51-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">theme =</span> <span class="fu">theme</span>(</span>
<span id="cb51-48"><a href="#cb51-48" aria-hidden="true" tabindex="-1"></a>      <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb51-49"><a href="#cb51-49" aria-hidden="true" tabindex="-1"></a>      <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>)</span>
<span id="cb51-50"><a href="#cb51-50" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb51-51"><a href="#cb51-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_layout</span>(<span class="at">guides =</span> <span class="st">"collect"</span>) <span class="sc">&amp;</span></span>
<span id="cb51-52"><a href="#cb51-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">10</span>))</span>
<span id="cb51-53"><a href="#cb51-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-54"><a href="#cb51-54" aria-hidden="true" tabindex="-1"></a>final_viz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ndis_scraping_files/figure-html/growth_plot-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="geomap_juris" class="level3">
<h3 class="anchored" data-anchor-id="geomap_juris">Geospatial mapping of jurisdiction participation</h3>
<p>Map of jurisdictional participation geographically, with marker sizes proportional to total profile contributions.</p>
<div class="cell">
<details class="code-fold">
<summary>Show jurisdiction mapping analysis code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use built-in US state data from R</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"state"</span>)</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>us_states <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">state =</span> <span class="fu">tolower</span>(state.name),</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">abb =</span> state.abb,</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">center_x =</span> state.center<span class="sc">$</span>x,</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">center_y =</span> state.center<span class="sc">$</span>y,</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare data</span></span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>jurisdiction_summary <span class="ot">&lt;-</span> ndis_clean <span class="sc">%&gt;%</span></span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">jurisdiction =</span> <span class="fu">tolower</span>(<span class="fu">trimws</span>(jurisdiction))) <span class="sc">%&gt;%</span> </span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(jurisdiction) <span class="sc">%&gt;%</span></span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">offender =</span> <span class="fu">sum</span>(offender_profiles, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">arrestee =</span> <span class="fu">sum</span>(arrestee, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb52-19"><a href="#cb52-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">forensic =</span> <span class="fu">sum</span>(forensic_profiles, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb52-20"><a href="#cb52-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_profiles =</span> offender <span class="sc">+</span> arrestee <span class="sc">+</span> forensic</span>
<span id="cb52-21"><a href="#cb52-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb52-22"><a href="#cb52-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(us_states, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"jurisdiction"</span> <span class="ot">=</span> <span class="st">"state"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb52-23"><a href="#cb52-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(center_x) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(center_y))</span>
<span id="cb52-24"><a href="#cb52-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-25"><a href="#cb52-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Create minimal map with tiny circles</span></span>
<span id="cb52-26"><a href="#cb52-26" aria-hidden="true" tabindex="-1"></a><span class="fu">leaflet</span>() <span class="sc">%&gt;%</span></span>
<span id="cb52-27"><a href="#cb52-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addTiles</span>() <span class="sc">%&gt;%</span></span>
<span id="cb52-28"><a href="#cb52-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addCircleMarkers</span>(</span>
<span id="cb52-29"><a href="#cb52-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> jurisdiction_summary,</span>
<span id="cb52-30"><a href="#cb52-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">lng =</span> <span class="sc">~</span>center_x,</span>
<span id="cb52-31"><a href="#cb52-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">lat =</span> <span class="sc">~</span>center_y,</span>
<span id="cb52-32"><a href="#cb52-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">radius =</span> <span class="dv">3</span>,</span>
<span id="cb52-33"><a href="#cb52-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"#1a5276"</span>,</span>
<span id="cb52-34"><a href="#cb52-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">fillOpacity =</span> <span class="fl">0.7</span>,</span>
<span id="cb52-35"><a href="#cb52-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">stroke =</span> <span class="cn">FALSE</span>,</span>
<span id="cb52-36"><a href="#cb52-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">popup =</span> <span class="sc">~</span><span class="fu">paste0</span>(</span>
<span id="cb52-37"><a href="#cb52-37" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;div style='font-size:12px'&gt;"</span>,</span>
<span id="cb52-38"><a href="#cb52-38" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;b&gt;"</span>, tools<span class="sc">::</span><span class="fu">toTitleCase</span>(jurisdiction), <span class="st">"&lt;/b&gt;&lt;br&gt;"</span>,</span>
<span id="cb52-39"><a href="#cb52-39" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Total: "</span>, <span class="fu">format</span>(total_profiles, <span class="at">big.mark =</span> <span class="st">","</span>), <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb52-40"><a href="#cb52-40" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Offender: "</span>, <span class="fu">format</span>(offender, <span class="at">big.mark =</span> <span class="st">","</span>), <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb52-41"><a href="#cb52-41" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Arrestee: "</span>, <span class="fu">format</span>(arrestee, <span class="at">big.mark =</span> <span class="st">","</span>), <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb52-42"><a href="#cb52-42" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Forensic: "</span>, <span class="fu">format</span>(forensic, <span class="at">big.mark =</span> <span class="st">","</span>),</span>
<span id="cb52-43"><a href="#cb52-43" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;/div&gt;"</span></span>
<span id="cb52-44"><a href="#cb52-44" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb52-45"><a href="#cb52-45" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb52-46"><a href="#cb52-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addControl</span>(</span>
<span id="cb52-47"><a href="#cb52-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">html =</span> <span class="st">"&lt;div style='background:white;padding:5px;'&gt;NDIS US State Participation&lt;/div&gt;"</span>,</span>
<span id="cb52-48"><a href="#cb52-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="st">"topright"</span></span>
<span id="cb52-49"><a href="#cb52-49" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb52-50"><a href="#cb52-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setView</span>(<span class="at">lng =</span> <span class="sc">-</span><span class="fl">98.5833</span>, <span class="at">lat =</span> <span class="fl">39.8333</span>, <span class="at">zoom =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-01684a86c65b9401b351" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-01684a86c65b9401b351">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addCircleMarkers","args":[[32.5901,49.25,34.2192,34.7336,36.5341,38.6777,41.5928,38.6777,27.8744,32.3329,31.75,43.5648,40.0495,40.0495,41.9358,38.4204,37.3915,30.6181,45.6226,39.2778,42.3645,43.1361,46.3943,32.6758,38.3347,46.823,41.3356,39.1063,43.3934,39.9637,34.4764,43.1361,35.4195,47.2517,40.221,35.5053,43.9078,40.9069,41.5928,33.619,44.3365,35.6767,31.3897,39.1063,44.2508,37.563,47.4231,38.4204,44.5937,43.0504],[-86.7509,-127.25,-111.625,-92.2992,-119.773,-105.513,-72.3573,-74.9841,-81.685,-83.3736,-126.25,-113.93,-89.3776,-86.0808,-93.37139999999999,-98.1156,-84.76739999999999,-92.2724,-68.98009999999999,-76.6459,-71.58,-84.687,-94.60429999999999,-89.8065,-92.5137,-109.32,-99.5898,-116.851,-71.39239999999999,-74.2336,-105.942,-75.14490000000001,-78.4686,-100.099,-82.5963,-97.12390000000001,-120.068,-77.45,-71.12439999999999,-80.5056,-99.7238,-86.456,-98.78570000000001,-111.33,-72.545,-78.20050000000001,-119.746,-80.6665,-89.9941,-107.256],3,null,null,{"interactive":true,"className":"","stroke":false,"color":"#1a5276","weight":5,"opacity":0.5,"fill":true,"fillColor":"#1a5276","fillOpacity":0.7},null,null,["<div style='font-size:12px'><b>Alabama<\/b><br>Total: 100,211,426<br>Offender:  74,755,173<br>Arrestee:  19,555,818<br>Forensic:  5,900,435<\/div>","<div style='font-size:12px'><b>Alaska<\/b><br>Total:  20,203,395<br>Offender:   7,532,689<br>Arrestee:  11,928,779<br>Forensic:    741,927<\/div>","<div style='font-size:12px'><b>Arizona<\/b><br>Total: 133,276,421<br>Offender: 109,139,479<br>Arrestee:  15,978,117<br>Forensic:  8,158,825<\/div>","<div style='font-size:12px'><b>Arkansas<\/b><br>Total:  68,683,212<br>Offender:  51,070,726<br>Arrestee:  14,041,362<br>Forensic:  3,571,124<\/div>","<div style='font-size:12px'><b>California<\/b><br>Total: 377,850,645<br>Offender: 265,377,204<br>Arrestee: 100,116,634<br>Forensic: 12,356,807<\/div>","<div style='font-size:12px'><b>Colorado<\/b><br>Total: 151,082,968<br>Offender:  60,051,720<br>Arrestee:  83,635,742<br>Forensic:  7,395,506<\/div>","<div style='font-size:12px'><b>Connecticut<\/b><br>Total:  38,588,985<br>Offender:  35,429,698<br>Arrestee:           0<br>Forensic:  3,159,287<\/div>","<div style='font-size:12px'><b>Delaware<\/b><br>Total:   5,790,002<br>Offender:   5,357,612<br>Arrestee:           0<br>Forensic:    432,390<\/div>","<div style='font-size:12px'><b>Florida<\/b><br>Total: 462,986,765<br>Offender: 323,621,775<br>Arrestee: 113,799,395<br>Forensic: 25,565,595<\/div>","<div style='font-size:12px'><b>Georgia<\/b><br>Total: 116,014,916<br>Offender: 109,301,405<br>Arrestee:           0<br>Forensic:  6,713,511<\/div>","<div style='font-size:12px'><b>Hawaii<\/b><br>Total:  11,975,119<br>Offender:  11,433,140<br>Arrestee:           0<br>Forensic:    541,979<\/div>","<div style='font-size:12px'><b>Idaho<\/b><br>Total:  15,429,306<br>Offender:  15,142,071<br>Arrestee:           0<br>Forensic:    287,235<\/div>","<div style='font-size:12px'><b>Illinois<\/b><br>Total: 205,493,830<br>Offender: 190,351,284<br>Arrestee:     202,732<br>Forensic: 14,939,814<\/div>","<div style='font-size:12px'><b>Indiana<\/b><br>Total: 109,261,581<br>Offender:  84,833,431<br>Arrestee:  19,743,681<br>Forensic:  4,684,469<\/div>","<div style='font-size:12px'><b>Iowa<\/b><br>Total:  41,009,348<br>Offender:  38,507,665<br>Arrestee:           0<br>Forensic:  2,501,683<\/div>","<div style='font-size:12px'><b>Kansas<\/b><br>Total:  63,396,318<br>Offender:  27,697,855<br>Arrestee:  32,868,696<br>Forensic:  2,829,767<\/div>","<div style='font-size:12px'><b>Kentucky<\/b><br>Total:  59,982,703<br>Offender:  57,383,810<br>Arrestee:           0<br>Forensic:  2,598,893<\/div>","<div style='font-size:12px'><b>Louisiana<\/b><br>Total: 178,038,702<br>Offender:  45,591,454<br>Arrestee: 126,852,679<br>Forensic:  5,594,569<\/div>","<div style='font-size:12px'><b>Maine<\/b><br>Total:  11,220,804<br>Offender:  10,132,747<br>Arrestee:           0<br>Forensic:  1,088,057<\/div>","<div style='font-size:12px'><b>Maryland<\/b><br>Total:  57,491,659<br>Offender:  40,093,830<br>Arrestee:  12,877,579<br>Forensic:  4,520,250<\/div>","<div style='font-size:12px'><b>Massachusetts<\/b><br>Total:  48,396,710<br>Offender:  44,448,089<br>Arrestee:           0<br>Forensic:  3,948,621<\/div>","<div style='font-size:12px'><b>Michigan<\/b><br>Total: 160,847,535<br>Offender: 115,044,668<br>Arrestee:  35,967,729<br>Forensic:  9,835,138<\/div>","<div style='font-size:12px'><b>Minnesota<\/b><br>Total:  57,511,441<br>Offender:  51,322,661<br>Arrestee:           0<br>Forensic:  6,188,780<\/div>","<div style='font-size:12px'><b>Mississippi<\/b><br>Total:  38,891,504<br>Offender:  36,905,616<br>Arrestee:   1,513,748<br>Forensic:    472,140<\/div>","<div style='font-size:12px'><b>Missouri<\/b><br>Total: 120,687,563<br>Offender:  97,150,904<br>Arrestee:  14,595,511<br>Forensic:  8,941,148<\/div>","<div style='font-size:12px'><b>Montana<\/b><br>Total:  12,520,680<br>Offender:  12,047,712<br>Arrestee:           0<br>Forensic:    472,968<\/div>","<div style='font-size:12px'><b>Nebraska<\/b><br>Total:  15,368,110<br>Offender:  14,558,225<br>Arrestee:           0<br>Forensic:    809,885<\/div>","<div style='font-size:12px'><b>Nevada<\/b><br>Total:  60,993,895<br>Offender:  29,239,738<br>Arrestee:  28,483,793<br>Forensic:  3,270,364<\/div>","<div style='font-size:12px'><b>New Hampshire<\/b><br>Total:   5,072,318<br>Offender:   4,471,552<br>Arrestee:           0<br>Forensic:    600,766<\/div>","<div style='font-size:12px'><b>New Jersey<\/b><br>Total: 108,834,339<br>Offender:  96,916,915<br>Arrestee:   4,588,297<br>Forensic:  7,329,127<\/div>","<div style='font-size:12px'><b>New Mexico<\/b><br>Total:  40,445,977<br>Offender:  20,351,432<br>Arrestee:  16,902,584<br>Forensic:  3,191,961<\/div>","<div style='font-size:12px'><b>New York<\/b><br>Total: 215,160,951<br>Offender: 194,924,258<br>Arrestee:           0<br>Forensic: 20,236,693<\/div>","<div style='font-size:12px'><b>North Carolina<\/b><br>Total: 104,653,725<br>Offender:  85,423,502<br>Arrestee:  14,894,184<br>Forensic:  4,336,039<\/div>","<div style='font-size:12px'><b>North Dakota<\/b><br>Total:  13,726,779<br>Offender:   4,634,956<br>Arrestee:   8,503,738<br>Forensic:    588,085<\/div>","<div style='font-size:12px'><b>Ohio<\/b><br>Total: 251,842,611<br>Offender: 147,261,358<br>Arrestee:  82,717,116<br>Forensic: 21,864,137<\/div>","<div style='font-size:12px'><b>Oklahoma<\/b><br>Total:  54,493,228<br>Offender:  50,243,514<br>Arrestee:   1,847,097<br>Forensic:  2,402,617<\/div>","<div style='font-size:12px'><b>Oregon<\/b><br>Total:  68,697,390<br>Offender:  63,655,269<br>Arrestee:           0<br>Forensic:  5,042,121<\/div>","<div style='font-size:12px'><b>Pennsylvania<\/b><br>Total: 126,170,306<br>Offender: 119,548,286<br>Arrestee:           0<br>Forensic:  6,622,020<\/div>","<div style='font-size:12px'><b>Rhode Island<\/b><br>Total:   8,483,573<br>Offender:   7,847,328<br>Arrestee:     146,145<br>Forensic:    490,100<\/div>","<div style='font-size:12px'><b>South Carolina<\/b><br>Total:  80,470,540<br>Offender:  62,698,353<br>Arrestee:  12,346,126<br>Forensic:  5,426,061<\/div>","<div style='font-size:12px'><b>South Dakota<\/b><br>Total:  22,749,811<br>Offender:   8,434,212<br>Arrestee:  13,606,753<br>Forensic:    708,846<\/div>","<div style='font-size:12px'><b>Tennessee<\/b><br>Total: 117,280,902<br>Offender:  74,632,259<br>Arrestee:  38,412,509<br>Forensic:  4,236,134<\/div>","<div style='font-size:12px'><b>Texas<\/b><br>Total: 333,345,173<br>Offender: 276,290,655<br>Arrestee:  32,237,756<br>Forensic: 24,816,762<\/div>","<div style='font-size:12px'><b>Utah<\/b><br>Total:  39,577,452<br>Offender:  32,903,316<br>Arrestee:   5,435,209<br>Forensic:  1,238,927<\/div>","<div style='font-size:12px'><b>Vermont<\/b><br>Total:   6,449,604<br>Offender:   6,100,868<br>Arrestee:       4,496<br>Forensic:    344,240<\/div>","<div style='font-size:12px'><b>Virginia<\/b><br>Total: 144,840,444<br>Offender: 136,302,830<br>Arrestee:   1,286,232<br>Forensic:  7,251,382<\/div>","<div style='font-size:12px'><b>Washington<\/b><br>Total:  91,709,289<br>Offender:  88,170,816<br>Arrestee:           0<br>Forensic:  3,538,473<\/div>","<div style='font-size:12px'><b>West Virginia<\/b><br>Total:  11,485,043<br>Offender:  10,719,993<br>Arrestee:           0<br>Forensic:    765,050<\/div>","<div style='font-size:12px'><b>Wisconsin<\/b><br>Total:  98,216,822<br>Offender:  87,094,554<br>Arrestee:   4,954,166<br>Forensic:  6,168,102<\/div>","<div style='font-size:12px'><b>Wyoming<\/b><br>Total:   8,857,397<br>Offender:   8,410,947<br>Arrestee:           0<br>Forensic:    446,450<\/div>"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addControl","args":["<div style='background:white;padding:5px;'>NDIS US State Participation<\/div>","topright",null,"info legend"]}],"limits":{"lat":[27.8744,49.25],"lng":[-127.25,-68.98009999999999]},"setView":[[39.8333,-98.58329999999999],4,[]]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="interactive-explore" class="level3">
<h3 class="anchored" data-anchor-id="interactive-explore">Interactive Exploration</h3>
<p>Interactive table for readers to explore the underlying data with filtering and export capabilities.</p>
<div class="cell">
<details class="code-fold">
<summary>Show interactive table code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>summary_table <span class="ot">&lt;-</span> ndis_clean <span class="sc">%&gt;%</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(jurisdiction, year) <span class="sc">%&gt;%</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total Profiles</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(total_profiles, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Offender Profiles</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(offender_profiles, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Arrestee Profiles</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(arrestee, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Forensic Profiles</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(forensic_profiles, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">NDIS Labs</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">max</span>(ndis_labs, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Investigations Aided</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">max</span>(investigations_aided, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Forensic Ratio</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">mean</span>(forensic_ratio, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">'drop'</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Profiles per Lab</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Total Profiles</span><span class="st">`</span> <span class="sc">/</span> <span class="st">`</span><span class="at">NDIS Labs</span><span class="st">`</span>,</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Forensic Ratio</span><span class="st">`</span> <span class="ot">=</span> scales<span class="sc">::</span><span class="fu">percent</span>(<span class="st">`</span><span class="at">Forensic Ratio</span><span class="st">`</span>, <span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(jurisdiction, year)</span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Interactive table</span></span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a>  summary_table,</span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">extensions =</span> <span class="fu">c</span>(<span class="st">'Buttons'</span>, <span class="st">'ColReorder'</span>, <span class="st">'Scroller'</span>),</span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">dom =</span> <span class="st">'Bfrtip'</span>,</span>
<span id="cb53-25"><a href="#cb53-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">buttons =</span> <span class="fu">c</span>(<span class="st">'copy'</span>, <span class="st">'csv'</span>, <span class="st">'excel'</span>, <span class="st">'colvis'</span>),</span>
<span id="cb53-26"><a href="#cb53-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">scrollX =</span> <span class="cn">TRUE</span>,</span>
<span id="cb53-27"><a href="#cb53-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">scrollY =</span> <span class="st">"600px"</span>,</span>
<span id="cb53-28"><a href="#cb53-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">scroller =</span> <span class="cn">TRUE</span>,</span>
<span id="cb53-29"><a href="#cb53-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">pageLength =</span> <span class="dv">20</span>,</span>
<span id="cb53-30"><a href="#cb53-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">columnDefs =</span> <span class="fu">list</span>(</span>
<span id="cb53-31"><a href="#cb53-31" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-right'</span>, <span class="at">targets =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">9</span>),</span>
<span id="cb53-32"><a href="#cb53-32" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">visible =</span> <span class="cn">FALSE</span>, <span class="at">targets =</span> <span class="fu">c</span>(<span class="dv">8</span>))</span>
<span id="cb53-33"><a href="#cb53-33" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb53-34"><a href="#cb53-34" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb53-35"><a href="#cb53-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb53-36"><a href="#cb53-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">filter =</span> <span class="st">'top'</span></span>
<span id="cb53-37"><a href="#cb53-37" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb53-38"><a href="#cb53-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatRound</span>(<span class="at">columns =</span> <span class="fu">c</span>(<span class="st">'Total Profiles'</span>, <span class="st">'Offender Profiles'</span>, <span class="st">'Arrestee Profiles'</span>, </span>
<span id="cb53-39"><a href="#cb53-39" aria-hidden="true" tabindex="-1"></a>                         <span class="st">'Forensic Profiles'</span>, <span class="st">'Profiles per Lab'</span>), </span>
<span id="cb53-40"><a href="#cb53-40" aria-hidden="true" tabindex="-1"></a>              <span class="at">digits =</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb53-41"><a href="#cb53-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(</span>
<span id="cb53-42"><a href="#cb53-42" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Forensic Ratio'</span>,</span>
<span id="cb53-43"><a href="#cb53-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="fu">styleInterval</span>(<span class="fu">c</span>(<span class="fl">0.02</span>, <span class="fl">0.03</span>), </span>
<span id="cb53-44"><a href="#cb53-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">'red'</span>, <span class="st">'black'</span>, <span class="st">'green'</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb53-45"><a href="#cb53-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(</span>
<span id="cb53-46"><a href="#cb53-46" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Profiles per Lab'</span>,</span>
<span id="cb53-47"><a href="#cb53-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">background =</span> <span class="fu">styleColorBar</span>(summary_table<span class="sc">$</span><span class="st">`</span><span class="at">Profiles per Lab</span><span class="st">`</span>, <span class="st">'lightblue'</span>),</span>
<span id="cb53-48"><a href="#cb53-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">backgroundSize =</span> <span class="st">'98% 88%'</span>,</span>
<span id="cb53-49"><a href="#cb53-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">backgroundRepeat =</span> <span class="st">'no-repeat'</span>,</span>
<span id="cb53-50"><a href="#cb53-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">backgroundPosition =</span> <span class="st">'center'</span></span>
<span id="cb53-51"><a href="#cb53-51" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-2419cf4638fb0bbd14c8" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-2419cf4638fb0bbd14c8">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;FBI&quot;,&quot;Florida&quot;,&quot;California&quot;,&quot;Texas&quot;,&quot;Ohio&quot;,&quot;New York&quot;,&quot;Illinois&quot;,&quot;Louisiana&quot;,&quot;Michigan&quot;,&quot;Colorado&quot;,&quot;Virginia&quot;,&quot;Arizona&quot;,&quot;Pennsylvania&quot;,&quot;Missouri&quot;,&quot;Tennessee&quot;,&quot;Georgia&quot;,&quot;Indiana&quot;,&quot;New Jersey&quot;,&quot;North Carolina&quot;,&quot;Alabama&quot;,&quot;Wisconsin&quot;,&quot;Washington&quot;,&quot;South Carolina&quot;,&quot;Oregon&quot;,&quot;Arkansas&quot;,&quot;Kansas&quot;,&quot;Nevada&quot;,&quot;Kentucky&quot;,&quot;Minnesota&quot;,&quot;Maryland&quot;,&quot;Oklahoma&quot;,&quot;Massachusetts&quot;,&quot;Iowa&quot;,&quot;New Mexico&quot;,&quot;Utah&quot;,&quot;Mississippi&quot;,&quot;Connecticut&quot;,&quot;South Dakota&quot;,&quot;Alaska&quot;,&quot;Idaho&quot;,&quot;Nebraska&quot;,&quot;North Dakota&quot;,&quot;Montana&quot;,&quot;Hawaii&quot;,&quot;West Virginia&quot;,&quot;Maine&quot;,&quot;Wyoming&quot;,&quot;Rhode Island&quot;,&quot;Vermont&quot;,&quot;Puerto Rico&quot;,&quot;Delaware&quot;,&quot;New Hampshire&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;2010&quot;,&quot;2012&quot;,&quot;2016&quot;,&quot;2017&quot;,&quot;2018&quot;,&quot;2019&quot;,&quot;2020&quot;,&quot;2021&quot;,&quot;2022&quot;,&quot;2023&quot;,&quot;2024&quot;,&quot;2025&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"3986\" data-max=\"150050284\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"3260\" data-max=\"104200077\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"40531922\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"322\" data-max=\"5326956\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1\" data-max=\"24\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"48\" data-max=\"87331\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"3986\" data-max=\"44354957.5\" data-scale=\"11\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","extensions":["Buttons","ColReorder","Scroller"],"data":[["FBI","FBI","FBI","FBI","FBI","FBI","FBI","FBI","FBI","FBI","FBI","FBI","Florida","Florida","Florida","Florida","Florida","Florida","Florida","Florida","Florida","Florida","Florida","Florida","California","California","California","California","California","California","California","Texas","Texas","Texas","Texas","Texas","Texas","Texas","Texas","Texas","Texas","Texas","Texas","Ohio","Ohio","Ohio","Ohio","Ohio","Ohio","Ohio","Ohio","Ohio","Ohio","Ohio","Ohio","New York","New York","New York","New York","New York","New York","New York","New York","New York","New York","New York","New York","Illinois","Illinois","Illinois","Illinois","Illinois","Illinois","Illinois","Illinois","Illinois","Illinois","Illinois","Illinois","Louisiana","Louisiana","Louisiana","Louisiana","Louisiana","Louisiana","Louisiana","Louisiana","Louisiana","Louisiana","Louisiana","Louisiana","Michigan","Michigan","Michigan","Michigan","Michigan","Michigan","Michigan","Michigan","Michigan","Michigan","Michigan","Michigan","Colorado","Colorado","Colorado","Colorado","Colorado","Colorado","Colorado","Colorado","Colorado","Colorado","Colorado","Colorado","Virginia","Virginia","Virginia","Virginia","Virginia","Virginia","Virginia","Virginia","Virginia","Virginia","Virginia","Virginia","Arizona","Arizona","Arizona","Arizona","Arizona","Arizona","Arizona","Arizona","Arizona","Arizona","Arizona","Arizona","Pennsylvania","Pennsylvania","Pennsylvania","Pennsylvania","Pennsylvania","Pennsylvania","Pennsylvania","Pennsylvania","Pennsylvania","Pennsylvania","Pennsylvania","Pennsylvania","Missouri","Missouri","Missouri","Missouri","Missouri","Missouri","Missouri","Missouri","Missouri","Missouri","Missouri","Missouri","Tennessee","Tennessee","Tennessee","Tennessee","Tennessee","Tennessee","Tennessee","Tennessee","Tennessee","Tennessee","Tennessee","Tennessee","Georgia","Georgia","Georgia","Georgia","Georgia","Georgia","Georgia","Georgia","Georgia","Georgia","Georgia","Georgia","Indiana","Indiana","Indiana","Indiana","Indiana","Indiana","Indiana","Indiana","Indiana","Indiana","Indiana","Indiana","New Jersey","New Jersey","New Jersey","New Jersey","New Jersey","New Jersey","New Jersey","New Jersey","New Jersey","New Jersey","New Jersey","New Jersey","North Carolina","North Carolina","North Carolina","North Carolina","North Carolina","North Carolina","North Carolina","North Carolina","North Carolina","North Carolina","North Carolina","North Carolina","Alabama","Alabama","Alabama","Alabama","Alabama","Alabama","Alabama","Alabama","Alabama","Alabama","Alabama","Alabama","Wisconsin","Wisconsin","Wisconsin","Wisconsin","Wisconsin","Wisconsin","Wisconsin","Wisconsin","Wisconsin","Wisconsin","Wisconsin","Wisconsin","Washington","Washington","Washington","Washington","Washington","Washington","Washington","Washington","Washington","Washington","Washington","Washington","South Carolina","South Carolina","South Carolina","South Carolina","South Carolina","South Carolina","South Carolina","South Carolina","South Carolina","South Carolina","South Carolina","South Carolina","Oregon","Oregon","Oregon","Oregon","Oregon","Oregon","Oregon","Oregon","Oregon","Oregon","Oregon","Oregon","Arkansas","Arkansas","Arkansas","Arkansas","Arkansas","Arkansas","Arkansas","Arkansas","Arkansas","Arkansas","Arkansas","Arkansas","Kansas","Kansas","Kansas","Kansas","Kansas","Kansas","Kansas","Kansas","Kansas","Kansas","Kansas","Kansas","Nevada","Nevada","Nevada","Nevada","Nevada","Nevada","Nevada","Nevada","Nevada","Nevada","Nevada","Nevada","Kentucky","Kentucky","Kentucky","Kentucky","Kentucky","Kentucky","Kentucky","Kentucky","Kentucky","Kentucky","Kentucky","Kentucky","Minnesota","Minnesota","Minnesota","Minnesota","Minnesota","Minnesota","Minnesota","Minnesota","Minnesota","Minnesota","Minnesota","Minnesota","Maryland","Maryland","Maryland","Maryland","Maryland","Maryland","Maryland","Maryland","Maryland","Maryland","Maryland","Maryland","Oklahoma","Oklahoma","Oklahoma","Oklahoma","Oklahoma","Oklahoma","Oklahoma","Oklahoma","Oklahoma","Oklahoma","Oklahoma","Oklahoma","Massachusetts","Massachusetts","Massachusetts","Massachusetts","Massachusetts","Massachusetts","Massachusetts","Massachusetts","Massachusetts","Massachusetts","Massachusetts","Massachusetts","Iowa","Iowa","Iowa","Iowa","Iowa","Iowa","Iowa","Iowa","Iowa","Iowa","Iowa","Iowa","New Mexico","New Mexico","New Mexico","New Mexico","New Mexico","New Mexico","New Mexico","New Mexico","New Mexico","New Mexico","New Mexico","New Mexico","Utah","Utah","Utah","Utah","Utah","Utah","Utah","Utah","Utah","Utah","Utah","Utah","Mississippi","Mississippi","Mississippi","Mississippi","Mississippi","Mississippi","Mississippi","Mississippi","Mississippi","Mississippi","Mississippi","Mississippi","Connecticut","Connecticut","Connecticut","Connecticut","Connecticut","Connecticut","Connecticut","Connecticut","Connecticut","Connecticut","Connecticut","Connecticut","South Dakota","South Dakota","South Dakota","South Dakota","South Dakota","South Dakota","South Dakota","South Dakota","South Dakota","South Dakota","South Dakota","South Dakota","Alaska","Alaska","Alaska","Alaska","Alaska","Alaska","Alaska","Alaska","Alaska","Alaska","Alaska","Alaska","Idaho","Idaho","Idaho","Idaho","Idaho","Idaho","Idaho","Idaho","Idaho","Nebraska","Nebraska","Nebraska","Nebraska","Nebraska","Nebraska","Nebraska","Nebraska","Nebraska","Nebraska","Nebraska","North Dakota","North Dakota","North Dakota","North Dakota","North Dakota","North Dakota","North Dakota","North Dakota","North Dakota","North Dakota","North Dakota","North Dakota","Montana","Montana","Montana","Montana","Montana","Montana","Montana","Montana","Montana","Montana","Montana","Montana","Hawaii","Hawaii","Hawaii","Hawaii","Hawaii","Hawaii","Hawaii","Hawaii","Hawaii","Hawaii","Hawaii","Hawaii","West Virginia","West Virginia","West Virginia","West Virginia","West Virginia","West Virginia","West Virginia","West Virginia","West Virginia","West Virginia","West Virginia","Maine","Maine","Maine","Maine","Maine","Maine","Maine","Maine","Maine","Maine","Maine","Maine","Wyoming","Wyoming","Wyoming","Wyoming","Wyoming","Wyoming","Wyoming","Wyoming","Wyoming","Wyoming","Wyoming","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Vermont","Vermont","Vermont","Vermont","Vermont","Vermont","Vermont","Vermont","Vermont","Vermont","Vermont","Vermont","Puerto Rico","Puerto Rico","Puerto Rico","Puerto Rico","Puerto Rico","Puerto Rico","Puerto Rico","Puerto Rico","Delaware","Delaware","Delaware","Delaware","Delaware","Delaware","Delaware","Delaware","Delaware","Delaware","New Hampshire","New Hampshire","New Hampshire","New Hampshire","New Hampshire","New Hampshire","New Hampshire","New Hampshire","New Hampshire","New Hampshire","New Hampshire","New Hampshire"],["2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2017","2018","2019","2020","2021","2022","2023","2024","2025","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2018","2019","2020","2021","2022","2023","2024","2025","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2010","2012","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025"],[476460,21043661,3442574,22839914,33745322,69566913,80828870,88709915,34236960,43784496,44064758,40428965,734763,23267629,3701948,24562855,36645157,75853679,89264808,94040773,33669940,31915059,26167692,23162462,1323655,50934173,7774787,51276130,74044302,150050284,42447314,540393,17048867,2775666,18305340,26693126,54465476,63695384,67248363,24142880,22851165,18612860,16965653,381950,12648276,2087955,13878333,20480529,42057630,48406570,50424145,18212980,17135952,13835276,12293015,381123,11634406,1865869,12231826,17833493,36544902,41418316,42859714,15215120,14059695,11232500,9883987,397558,12039516,1797891,11733988,16992366,34408958,39124963,40575332,14425480,13538424,10880172,9579182,110625,10240009,1520543,9974908,14471845,29531830,33952205,35523690,12682220,11902449,9602082,8526296,293602,8743902,1288944,8676689,12936359,26655990,30963306,32475152,11622080,10824276,8687458,7679777,131249,5776649,1119184,7711864,11977438,25198962,29679971,31282684,11250180,10629456,8608718,7716613,321846,9532398,1275900,8300894,11869564,24028565,27443152,28515570,10155500,9416694,7462792,6517569,188198,7233312,1098839,7380942,10889433,22266832,25593208,26675660,9507700,8903562,7168216,6370519,237003,7396205,1084955,7099716,10220186,20687228,23749936,24914818,8939300,8552802,7004666,6283491,213586,6797851,1012876,6694089,9771918,19977904,23018728,24113722,8639680,8118951,6548348,5779910,121147,5448539,903835,6287306,9459248,19666693,22863432,23942547,8558600,7971270,6388770,5669515,213863,6653099,986699,6429512,9187300,18498722,21981151,23286749,8370860,8013363,6536254,5857344,159724,5070654,793279,5227821,8161513,17694267,21279557,22638584,8178320,7826067,6418576,5813219,225646,6759059,958150,6237114,9010754,18259595,20736613,21438367,7611040,7034340,5614910,4948751,189110,5638058,893239,5133948,8593259,17551113,20182407,21063268,7533220,7077978,5719574,5078551,190159,5682980,818483,5492838,8159550,16662533,19157389,20000857,7149200,6701355,5395580,4800502,143957,4437597,693451,4901007,7763972,16359328,19291518,20297214,7332600,5947428,5791184,5257566,191038,5745603,800412,5232253,7416057,14951689,17365356,18306662,6530900,6048843,4853354,4267122,155536,4615421,657594,4346958,6361474,13123711,15385399,16161317,5787920,5458851,4436458,3979901,122980,4108894,607357,3961722,5706870,11520468,13140115,13564491,4806860,4462776,3563448,3131409,112924,3491539,535679,3629196,5447248,11293422,13202036,13915264,5007840,4750827,3840986,3456251,71899,3397095,530309,3492457,5133495,10503909,12093924,12733102,4552580,4310049,3487772,3089727,57084,2026125,405612,2830467,4522759,9695006,11989124,12953309,4723160,4568163,3784834,3438252,32790,1986140,428776,3112725,4773809,10010958,11804420,12407654,4467480,4288986,3516528,3152437,106108,3273787,481506,3162854,4667144,9590300,10987317,11419812,4062220,3850446,3115908,2794039,94917,3279520,492130,3240767,4709135,9537287,10931671,11405428,4074340,3836007,3108576,2781881,93670,2908496,441399,2926377,4316132,8948551,10437522,11011615,3953880,3738261,3023528,2693797,86753,2721982,419987,2776295,4027197,8147061,9308866,9598515,3400780,3149001,2525818,2234455,63223,2051608,328013,2183353,3276605,6767881,7891033,8280244,2974960,2828295,2305210,2058923,55811,2109057,338543,2242113,3288292,6747188,7782075,8150265,2919220,2718108,2173444,1921861,49467,2099161,312602,2071925,2944178,6467848,7832873,8159952,2902780,2671725,2162060,1902881,40272,2167826,325401,2157566,3200640,6545838,7480790,7771860,2768360,2567454,2053742,1811755,79269,2334139,340330,2220547,3192909,6458159,7348373,7598699,2698420,2509587,2020576,1787977,24201,1072062,171832,1183026,1779479,3716126,4382751,4658522,1681640,1599213,1306354,1174605,21134,1065177,165385,1086017,1593635,3294028,3857326,4053519,1462700,1419882,1156016,1028576,284649,1268930,2734810,3269357,3475960,1257860,1218729,1003072,915939,508092,110569,1433690,1153522,2413701,2869351,3056491,1106280,1061277,870306,784831,7243,1084978,99917,760978,1041029,2164807,2550643,2705938,973280,926406,751758,659802,16399,518760,101871,665002,1004395,2081831,2368925,2547777,925880,901188,736714,651938,16790,690902,103976,682334,990567,2010472,2311688,2386948,843180,776826,616958,544478,458351,84215,556143,798085,1748713,2244444,2444002,922340,872928,718124,637698,17385,631397,96738,642037,936878,1892439,2162411,2228215,787380,726909,585972,513043,458581,73680,487478,714457,1468212,1699066,1787918,642240,605838,487714,432213,395977,70988,470994,696881,1429907,1642729,1701540,610260,576942,468916,418439,12148,388725,58602,374197,532206,1079275,1226672,1268279,450500,420129,337852,301019,480267,1290021,1417845,1444447,507780,458262,356746,307152,44993,305698,485201,1007682,1178769,1241327,448360,424506,344628,308838,3986,162093,33744,236932,386771,846168,1009580,1064555,385320,368052,299346,275771],[472890,18756108,2628070,17010290,24005130,47989583,53882801,58998581,23287260,32727231,34721548,31766068,705714,21793369,3008840,19448028,27495071,54880033,61336454,62956247,22222700,20255469,15954572,13565278,1295199,36547537,5579201,36542744,51971392,104200077,29241054,514555,16121869,2417807,15856690,22841343,46195294,52921553,54885343,19512140,18100779,14451252,12472030,362313,10840412,1396987,8972582,12542168,24899673,27637580,28131072,9988860,9109374,7171622,6208715,350480,10633774,1708089,11180880,16275337,33284772,37554774,38715573,13714380,12625878,10055704,8824617,375927,11342059,1683528,10973202,15850132,32038820,36270479,37463785,13286260,12417714,9939782,8709596,105231,3096632,424298,2747915,3889199,7744786,8637746,8848904,3116420,2839083,2227774,1913466,284191,8194687,1109662,7121823,9905858,19604159,21710018,22164164,7796240,7017381,5460308,4676177,125413,3937837,544913,3553293,5086247,10190029,11402116,11704067,4136440,3779259,2984842,2607264,309465,8992844,1205562,7834155,11192819,22652108,25819964,26800966,9537940,8840646,7003148,6113213,178774,6390079,927818,6200226,9013144,18300645,20859452,21627279,7681440,7148358,5734224,5078040,228616,7148939,1038169,6786870,9726799,19618787,22465262,23537232,8435140,8059071,6595808,5907593,202511,6076638,859631,5625616,8064250,16284709,18442789,19103712,6795920,6299337,5023146,4372645,118278,3992546,612885,4181275,6137504,12546818,14422199,14972897,5322820,4928595,3931930,3464512,204557,6336298,931514,6052863,8634382,17379262,20691698,21947415,7893940,7555671,6153138,5520667,154297,4869389,759471,4999399,7266915,14580353,16289887,16706201,5895600,5380317,4242036,3689566,216230,6415653,878562,5676770,8113852,16353829,18439546,18929919,6686840,6123027,4846166,4236521,184219,5287755,771799,4284273,7220023,14537630,16405313,16919766,6002180,5541810,4406890,3861844,183916,5345128,704192,4535348,6358527,12616056,14048987,14403300,5081720,4642551,3655368,3180080,136375,4160117,639185,4463053,6966270,14589458,17087563,17902253,6447880,5065614,5056912,4579874,188272,5639925,779374,5086591,7180737,14432483,16706732,17569165,6249600,5745426,4582528,4009983,148742,4372339,583452,3753629,5272118,10547301,11836275,12136724,4289160,3928419,3112652,2717542,116490,3894857,568435,3706074,5312243,10695486,12163912,12525531,4430620,4100583,3271054,2869984,108969,3329097,469653,3040032,4305937,8627828,9679816,9955792,3522560,3232029,2555632,2243381,68155,2076555,265933,1697757,2353095,4664883,5188809,5314698,1872220,1707759,1346812,1141179,53233,1915077,275344,1756234,2452097,4931806,5564652,5713012,2018580,1844145,1453620,1261938,29548,1878435,410197,2985187,4582437,9612221,11313321,11868889,4265000,4089354,3351722,2997499,99883,3043459,440165,2877114,4225011,8637957,9813680,10125853,3583380,3370056,2704758,2401345,89152,2690260,360619,2343630,3341880,6712124,7573296,7800383,2763100,2562372,2047736,1809278,91856,2828482,423780,2804789,4128703,8438478,9607115,9980392,3560960,3331854,2685222,2361883,81921,2545407,389625,2573011,3722232,7509599,8552394,8794868,3107240,2866668,2290614,2014510,60180,1948843,310429,2065962,3094975,6380588,7399642,7747650,2781200,2641287,2153086,1923823,53231,1495773,189329,1219698,1716593,3428021,3828306,3920878,1384640,1263606,992038,859319,49038,2064999,293674,1899835,2643438,5510704,6366320,6534929,2306780,2102481,1675668,1455450,39869,2152447,318881,2093873,3072208,6244516,7082076,7318760,2597780,2396847,1911046,1677313,76932,2264131,320737,2081889,2974051,5978810,6746113,6920301,2444520,2252745,1795130,1574339,23872,674405,80486,515272,713827,1413351,1570042,1608374,566680,514680,403760,349463,20287,577112,71359,457163,637541,1260388,1396574,1428449,504100,474864,377202,327650,280951,1250958,2693495,3213882,3412322,1232720,1189905,977370,890468,483753,105549,1399352,1099411,2299635,2720994,2885645,1040880,990003,807474,725529,6794,911668,35751,306515,329022,657536,738844,761620,270000,249165,197220,170821,16031,505654,99251,647100,974824,2009566,2276797,2443087,886580,861420,704410,622992,16468,672831,101365,663862,952875,1924410,2206112,2269633,799260,733539,581082,511703,439589,80167,528976,750901,1637384,2097622,2269478,856060,808428,663604,587784,15540,571246,87253,579990,847121,1710157,1955059,2015681,712580,652074,526372,459674,450636,71608,471576,685985,1400962,1612073,1690809,605720,567144,453692,400742,380839,66780,440908,645902,1317612,1513911,1569839,562200,531789,432292,385256,11798,373454,56740,360672,509819,1029176,1161378,1193993,422420,390939,312692,277787,419920,1127151,1237656,1259757,442020,397806,309438,265880,42758,287825,453169,936000,1090206,1145969,413420,390108,315904,282253,3260,135246,29032,204819,338599,747068,895162,944043,342120,325767,263326,243110],[0,2168459,788798,5646803,9431261,20893718,26083629,28767668,10607100,10728876,9071068,8405737,0,447658,510428,3863194,7192322,16824533,22964218,25757570,9509480,9801270,8696430,8232292,0,13248136,1964241,13140262,19593847,40531922,11638226,0,0,170653,1205918,1944641,4286377,5998578,7185732,2746880,2914974,2658862,3125141,0,1115849,534622,3823557,6250421,13582904,16485843,17695516,6554300,6419445,5353990,4900669,0,0,0,0,0,0,0,0,0,0,0,0,0,89,1022,7568,13014,32821,43795,46742,17300,16125,12820,11436,0,6938351,1055226,6945857,10139318,20846500,24208212,25514152,9150460,8671812,7057576,6325215,0,213629,107606,1059483,2250335,5420288,7320230,8250330,3083600,3106017,2658976,2497235,0,1643282,528112,3831338,6363600,13862287,16862332,17993310,6520300,6252564,5124912,4653705,0,143012,12426,84012,109124,197200,235641,244764,87220,74172,54186,44475,0,518351,114914,790933,1253093,2636740,3137785,3342790,1209540,1161762,952676,859533,0,0,0,0,0,0,0,0,0,0,0,0,0,344524,87308,624524,1031346,2273904,2866566,3154443,1163480,1158357,980036,911023,0,1358893,266583,1930680,3013522,6426319,7580147,8044901,2902220,2724105,2196400,1968739,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,545618,2364449,4080080,4951074,1924480,2103945,1898640,1875395,0,0,22074,173890,319604,709995,889522,1013114,383360,396660,348780,331298,0,192859,96585,676535,1095824,2385970,2957712,3224660,1186660,1173762,985756,917861,0,97939,70058,655750,1338551,3083685,3961005,4372447,1624800,1638345,1398580,1314658,0,0,8828,129665,313706,747453,1004665,1133341,429460,445587,380606,360855,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32202,308619,664130,1692752,2505138,2907635,1094380,1144995,1012100,984175,0,0,0,0,0,0,0,0,0,0,0,0,0,12886,36298,393420,855095,2078499,2835551,3229599,1223740,1265967,1081086,1029221,0,1201698,244528,1660903,2574570,5396647,6374572,6828774,2461600,2385309,1959022,1781073,0,0,108596,925622,1833572,4243599,5785309,6545319,2450360,2475183,2126564,1989669,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,396102,97720,668027,1018984,2102127,2494813,2673926,973220,945444,787072,720144,0,5865,789,5016,6868,124412,368220,535985,213500,226842,180036,179564,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,516196,128208,877261,1338097,2804191,3328254,3541862,1281420,1213113,985094,888888,0,18420,15210,142521,240506,803810,1203040,1316215,483280,458997,392686,360524,0,0,2944,39127,90699,223012,307392,354254,134400,136479,115312,110129,0,0,0,0,0,0,0,0,0,0,0,0,0,385114,88295,643746,1023999,2207504,2681703,2892285,1054060,1018983,843284,767780,0,459406,89243,595614,906078,1926688,2323308,2470075,900580,879498,725094,653195,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,156455,61088,432088,673266,1416241,1696092,1818238,657740,630168,513084,449278,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,725,6355,13235,30222,31667,28521,11060,9954,7732,6674,0,4496,0,0,0,0,0,0,0,0,0,0,55043,147747,162232,165129,57940,53208,41384,35892,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[3570,119094,25706,182821,308931,683612,862440,943666,342600,328389,272142,257160,29049,1026602,182680,1251633,1957764,4149113,4964136,5326956,1937760,1858320,1516690,1364892,28456,1138500,231345,1593124,2479063,5318285,1568034,25838,926998,187206,1242732,1907142,3983805,4775253,5177288,1883860,1835412,1502746,1368482,19637,692015,156346,1082194,1687940,3575053,4283147,4597557,1669820,1607133,1309664,1183631,30643,1000632,157780,1050946,1558156,3260130,3863542,4144141,1500740,1433817,1176796,1059370,21631,697368,113341,753218,1129220,2337317,2810689,3064805,1121920,1104585,927570,858150,5394,205026,41019,281136,443328,940544,1106247,1160634,415340,391554,316732,287615,9411,335586,71676,495383,780166,1631543,1933058,2060658,742240,700878,568174,506365,5836,195530,46159,327233,527591,1146646,1415523,1585307,593440,597633,498964,455644,12381,396542,57912,382727,567621,1179257,1387547,1469840,530340,501876,405458,359881,9424,324882,56107,389783,623196,1329447,1595971,1705591,616720,593442,481316,432946,8387,247266,46786,312846,493387,1068441,1284674,1377586,504160,493731,408858,375898,11075,376689,65937,443949,676322,1419291,1709373,1855567,680280,661257,545166,496242,2869,97100,24367,175351,308222,693556,861086,924749,333560,318570,260440,236264,9306,316801,55185,376649,552918,1119460,1289453,1339334,476920,457692,383116,336677,5427,201265,33808,228422,348980,749465,909590,981309,358240,341805,277900,248258,9416,343406,57514,386454,577298,1195771,1407545,1495334,540840,514653,419964,380932,4891,157444,24855,173140,277412,627513,819382,918842,344380,362406,326928,298846,6243,239913,44233,301740,462472,962792,1147397,1225110,442680,420459,341632,305764,7582,277480,45438,308289,483996,1022417,1199290,1261620,455260,436227,353666,316837,2766,105678,21038,145662,235320,519206,658624,737497,281300,303417,270826,257139,6794,243082,41940,284710,425226,883658,1043986,1116958,404380,385437,311706,278184,6490,214037,38922,255648,394627,824982,976203,1038960,376240,362193,292394,261425,3955,149556,29728,195744,286216,587095,686669,729873,261540,252831,204268,183649,3744,118842,19848,133797,205830,442379,530543,589630,218760,216981,181938,167475,3851,111048,21672,148611,237090,519601,639163,694978,254220,248835,204650,186645,3242,107705,18579,127538,191372,398737,491099,538765,202480,199632,164806,154938,6225,230328,41341,285740,442133,952343,1173637,1293959,478840,480390,411150,392694,5765,193158,33791,229110,348271,723036,863562,931119,338020,328191,273768,252459,1814,74149,16830,116572,180561,385661,462187,495238,179420,179565,158270,152350,4832,176575,30362,203284,304965,637462,756472,803647,293540,282333,235204,219945,3043,102765,17584,117391,181630,387293,491391,532594,193760,187008,152124,135100,2580,97088,21006,145154,233602,514976,625515,687525,253160,241389,196312,173654,429,15742,3718,29569,60234,153334,263513,308808,112720,110247,93706,86907,403,15379,3576,24566,37733,78310,91322,98846,36180,34128,27384,24313,2337,70008,19593,138658,218858,479349,602260,678398,253900,256842,225446,213638,329,12543,3051,24008,41653,95271,131006,157863,60900,65550,59310,57362,847,28659,4783,33240,50016,106952,137444,154995,58020,65520,53720,47731,3698,17972,41315,55475,63638,25140,28824,25702,25471,24339,5020,34338,54111,114066,148357,170846,65400,71274,62832,59302,449,16855,3078,22375,38741,91030,115707,126080,45540,47073,41454,39703,368,13106,2620,17902,29571,72265,92128,104690,39300,39768,32304,28946,322,18071,2611,18472,37692,86062,105576,117315,43920,43287,35876,32775,18762,4048,27167,47184,111329,146822,174524,66280,64500,54520,49914,1845,60151,9485,62047,89757,182282,207352,212534,74800,74835,59600,53369,7945,2072,15902,28472,67250,86993,97109,36520,38694,34022,31471,15138,3483,23731,37744,82073,97151,103180,37000,35199,28892,26509,350,10775,1862,13525,22387,50099,65294,74286,28080,29190,25160,23232,5304,15123,17957,19561,7820,7248,5924,5380,2235,17873,32032,71682,88563,95358,34940,34398,28724,26585,726,26847,4712,32113,48172,99100,114418,120512,43200,42285,36020,32661],[4,2,2,2,2,2,2,2,2,2,2,2,12,12,12,12,12,12,12,12,12,12,12,12,20,22,24,24,24,24,24,16,15,16,17,17,17,17,17,17,17,17,17,11,9,8,8,8,8,8,8,8,8,7,7,9,8,8,8,8,8,8,8,8,8,8,8,10,10,9,9,9,9,9,9,9,9,10,10,7,6,6,6,6,6,6,6,6,6,6,6,3,3,3,4,4,4,4,4,4,4,4,4,6,5,7,8,8,8,9,9,9,9,10,10,4,4,4,4,4,4,4,4,4,4,4,4,7,7,7,7,7,7,7,7,7,7,7,7,4,3,3,3,3,3,3,3,3,3,3,3,7,7,7,7,7,7,7,7,7,7,7,7,3,3,4,4,4,4,4,4,4,4,4,4,4,3,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,2,2,2,2,2,2,2,2,2,2,2,3,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,3,2,2,2,2,2,2,2,2,2,2,2,6,5,6,6,6,6,6,6,6,6,6,6,2,4,5,5,5,5,5,5,5,6,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,5,5,5,5,5,5,5,5,5,5,5,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,2,2,3,3,3,3,3,3,3,3,3,3,6,6,6,6,6,6,6,6,6,6,6,6,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[338,668,1230,1556,1754,2056,2274,2403,972,2878,2984,3222,13144,19860,33189,38450,42094,45813,50824,54343,54343,60879,62431,66146,12777,23035,51381,62817,69703,82147,87331,6245,11507,25372,28807,32176,35656,40902,44250,44250,51396,52791,56245,5770,7103,16474,19966,27683,30144,32720,34994,34994,38913,40200,41884,10328,14414,21411,23290,24986,27368,29128,31869,31869,35722,36859,39209,11260,14744,20609,22180,23889,25456,27944,30074,30074,34168,35258,38909,1874,3535,6708,7779,8954,9941,10732,11293,11293,12289,12588,13420,4014,5892,11026,13132,14971,16504,17724,18973,18973,20894,21422,22496,1810,2881,7195,8358,9574,11018,12597,14246,14246,17219,17987,19442,6126,7596,9760,10368,10925,11723,12504,13075,13075,14095,14333,14958,3632,5447,8779,10172,11504,12631,13723,14581,14581,16167,16479,17367,3222,4484,6758,7570,8509,9423,10244,11081,11081,12858,13348,14661,4616,6925,11889,13202,14812,16206,17730,19233,19233,21836,22354,24007,339,604,2432,3680,4826,5697,6389,6767,6767,7292,7488,7835,2896,3953,6565,7444,8047,8622,9213,9511,9511,11216,11724,12229,1766,2665,4355,4925,5828,6626,7330,7959,7959,9014,9235,9809,3892,5847,9481,10320,11102,12037,13052,14140,14140,15428,15890,17009,1489,1939,3072,3640,4166,4971,5957,6866,6866,9182,9971,10534,3338,4669,7109,7731,7732,7830,8148,8711,8711,9523,9868,10552,2657,3730,5790,6699,7840,8614,9142,9664,9664,10789,11106,11613,1021,1724,2956,3369,3920,4472,5062,5799,5799,7654,8145,9106,2809,4115,6795,7527,8152,8579,9324,9821,9821,10771,10930,11418,2779,3887,6488,7835,8257,8703,9367,9862,9862,10913,11220,11739,1233,2194,4383,4832,5292,5738,6175,6522,6522,7102,7307,7836,1197,1651,2789,3207,3343,3751,3997,4519,4519,5380,5603,6068,1401,2014,3605,4211,4838,5463,6114,6616,6616,7638,7847,8363,520,861,1699,2078,2497,2862,3237,3673,3673,4269,4414,4583,2054,3025,6004,6961,8160,9235,10259,11534,11534,13879,14731,16601,1794,2570,4131,4667,5095,5550,6015,6458,6458,7382,7683,8325,215,1010,2601,3076,3430,3867,4340,4697,4697,5542,6028,6838,1443,2396,4252,4754,5289,5791,6232,6695,6695,7561,7802,8662,658,1012,1953,2206,2589,2924,3446,3758,3758,4234,4346,4560,1180,1573,3334,3765,4355,4983,5483,6217,6217,7110,7375,7672,54,59,88,95,120,143,332,359,359,679,805,1046,118,228,466,589,769,878,935,1041,1041,1189,1216,1316,907,907,2808,3593,4231,5178,6284,7247,7247,9231,9890,11168,85,158,418,716,816,1011,1312,1713,1713,2422,2513,3052,304,409,639,721,772,904,1154,1391,1391,1846,1888,1980,68,101,192,241,289,289,437,472,575,129,393,491,576,686,877,1082,1082,1512,1586,1796,96,229,487,641,867,1065,1170,1271,1271,1600,1700,1916,79,99,211,245,353,520,520,688,688,839,839,883,110,311,422,515,666,768,851,952,952,1114,1172,1274,114,352,408,500,710,981,1160,1160,1340,1398,1490,73,73,74,91,203,192,251,301,301,380,380,411,48,139,211,280,411,579,650,650,730,850,850,92,332,401,488,580,661,730,730,856,876,950,69,146,288,372,487,585,688,794,794,1036,1095,1219,102,51,55,55,55,55,55,56,100,144,221,242,273,2455,2455,2711,395,3156,54,113,257,335,379,417,453,481,481,587,637,672],["4.8%","3.8%","34.7%","34.7%","34.6%","34.6%","34.7%","34.6%","34.6%","34.5%","34.4%","34.3%","4.0%","4.4%","4.9%","5.1%","5.3%","5.5%","5.6%","5.7%","5.8%","5.8%","5.8%","5.9%","2.1%","2.2%","3.0%","3.1%","3.3%","3.5%","3.7%","4.8%","5.4%","6.7%","6.8%","7.1%","7.3%","7.5%","7.7%","7.8%","8.0%","8.1%","8.1%","5.1%","5.5%","7.5%","7.8%","8.2%","8.5%","8.8%","9.1%","9.2%","9.4%","9.5%","9.6%","8.0%","8.6%","8.5%","8.6%","8.7%","8.9%","9.3%","9.7%","9.9%","10.2%","10.5%","10.7%","5.4%","5.8%","6.3%","6.4%","6.6%","6.8%","7.2%","7.6%","7.8%","8.2%","8.5%","9.0%","4.9%","2.0%","2.7%","2.8%","3.1%","3.2%","3.3%","3.3%","3.3%","3.3%","3.3%","3.4%","3.2%","3.8%","5.6%","5.7%","6.0%","6.1%","6.2%","6.3%","6.4%","6.5%","6.5%","6.6%","4.4%","3.4%","4.1%","4.2%","4.4%","4.5%","4.8%","5.1%","5.3%","5.6%","5.8%","5.9%","3.8%","4.2%","4.5%","4.6%","4.8%","4.9%","5.1%","5.2%","5.2%","5.3%","5.4%","5.5%","5.0%","4.5%","5.1%","5.3%","5.7%","6.0%","6.2%","6.4%","6.5%","6.7%","6.7%","6.8%","3.5%","3.3%","4.3%","4.4%","4.8%","5.2%","5.4%","5.5%","5.6%","5.8%","5.8%","6.0%","5.2%","5.5%","6.5%","6.6%","6.9%","7.1%","7.4%","7.7%","7.9%","8.1%","8.3%","8.6%","2.4%","1.8%","2.7%","2.8%","3.3%","3.5%","3.8%","3.9%","3.9%","4.0%","4.1%","4.2%","4.4%","4.8%","5.6%","5.9%","6.0%","6.1%","5.9%","5.8%","5.7%","5.7%","5.9%","5.7%","3.4%","4.0%","4.3%","4.4%","4.3%","4.2%","4.3%","4.3%","4.4%","4.4%","4.3%","4.3%","4.2%","5.1%","6.0%","6.2%","6.4%","6.5%","6.8%","7.0%","7.1%","7.3%","7.5%","7.7%","2.6%","2.8%","2.8%","5.0%","3.2%","3.6%","4.1%","4.4%","4.6%","5.1%","5.7%","5.9%","3.3%","4.2%","5.4%","5.5%","5.7%","5.8%","6.0%","6.1%","6.2%","6.3%","6.3%","6.4%","5.3%","6.3%","6.6%","6.3%","6.2%","6.2%","6.2%","6.2%","6.2%","7.4%","6.1%","6.0%","1.4%","1.8%","2.6%","2.8%","3.2%","3.5%","3.8%","4.0%","4.3%","5.0%","5.6%","6.0%","4.4%","5.3%","6.4%","6.5%","6.7%","6.7%","6.8%","6.9%","7.0%","7.1%","7.0%","7.0%","5.3%","5.2%","6.4%","6.5%","6.9%","7.2%","7.4%","7.7%","7.8%","8.1%","8.2%","8.3%","3.5%","4.3%","5.6%","5.4%","5.3%","5.2%","5.2%","5.2%","5.2%","5.3%","5.3%","5.3%","5.2%","3.5%","3.7%","3.8%","4.0%","4.2%","4.4%","4.6%","4.8%","5.0%","5.2%","5.4%","6.7%","5.5%","5.3%","5.3%","5.2%","5.4%","5.3%","5.4%","5.4%","5.4%","5.4%","5.4%","9.9%","5.4%","4.3%","4.1%","4.0%","4.0%","4.2%","4.3%","4.5%","4.7%","4.7%","4.9%","5.9%","7.0%","8.6%","9.0%","9.5%","9.9%","10.7%","11.3%","11.8%","12.5%","13.2%","14.1%","6.1%","5.9%","6.9%","7.1%","7.4%","7.6%","7.9%","8.2%","8.3%","8.6%","8.8%","9.1%","1.9%","2.5%","3.8%","4.0%","4.2%","4.3%","4.4%","4.5%","4.5%","4.8%","5.2%","5.7%","5.6%","6.5%","7.2%","7.3%","7.6%","7.8%","8.1%","8.4%","8.6%","9.0%","9.3%","9.8%","4.8%","5.0%","5.4%","5.4%","5.5%","5.7%","6.2%","6.4%","6.5%","6.6%","6.6%","6.6%","4.6%","4.6%","6.2%","6.5%","7.1%","7.6%","8.0%","8.4%","8.7%","8.9%","9.0%","9.0%","0.9%","0.7%","1.2%","1.4%","2.0%","2.4%","3.4%","3.8%","3.9%","4.1%","4.3%","4.6%","1.0%","0.7%","1.1%","1.1%","1.2%","1.2%","1.2%","1.3%","1.3%","1.3%","1.3%","1.3%","2.9%","3.0%","5.8%","6.2%","6.9%","7.4%","8.2%","8.9%","9.4%","10.2%","11.2%","11.9%","1.4%","1.2%","1.8%","2.0%","2.3%","2.6%","3.0%","3.4%","3.6%","4.1%","4.5%","4.9%","4.0%","2.7%","2.9%","3.1%","3.1%","3.2%","3.6%","3.8%","4.0%","4.6%","4.6%","4.6%","1.3%","1.4%","1.5%","1.7%","1.8%","2.0%","2.4%","2.6%","2.8%","4.8%","4.5%","3.9%","4.7%","4.7%","5.2%","5.6%","5.9%","6.7%","7.2%","7.6%","6.2%","2.9%","3.1%","3.1%","3.7%","4.2%","4.5%","4.7%","4.7%","5.1%","5.5%","6.0%","2.2%","2.5%","2.6%","2.7%","2.9%","3.5%","3.9%","4.1%","4.2%","4.4%","4.4%","4.4%","1.9%","2.6%","2.5%","2.7%","3.8%","4.3%","4.6%","4.9%","5.2%","5.6%","5.8%","6.0%","4.1%","4.8%","4.9%","5.9%","6.4%","6.5%","7.1%","7.2%","7.4%","7.6%","7.8%","10.6%","9.5%","9.8%","9.7%","9.6%","9.6%","9.6%","9.5%","9.5%","10.3%","10.2%","10.4%","1.7%","2.8%","3.3%","4.0%","4.6%","5.1%","5.4%","5.7%","6.4%","7.0%","7.3%","3.8%","4.9%","5.0%","5.4%","5.7%","5.9%","6.1%","6.1%","6.1%","6.2%","6.3%","2.9%","2.8%","3.2%","3.6%","4.2%","4.6%","5.3%","5.9%","6.2%","6.9%","7.4%","7.7%","1.1%","1.2%","1.3%","1.4%","1.5%","1.6%","1.7%","1.8%","5.0%","5.9%","6.6%","7.1%","7.5%","7.7%","7.8%","8.1%","8.3%","8.6%","18.2%","16.6%","14.0%","13.6%","12.5%","11.7%","11.3%","11.3%","11.2%","11.5%","12.0%","11.8%"],[119115,10521830.5,1721287,11419957,16872661,34783456.5,40414435,44354957.5,17118480,21892248,22032379,20214482.5,61230.25,1938969.083333333,308495.6666666667,2046904.583333333,3053763.083333333,6321139.916666667,7438734,7836731.083333333,2805828.333333333,2659588.25,2180641,1930205.166666667,66182.75,2315189.681818182,323949.4583333333,2136505.416666667,3085179.25,6252095.166666667,1768638.083333333,33774.5625,1136591.133333333,173479.125,1076784.705882353,1570183.882352941,3203851.529411765,3746787.294117647,3955786.05882353,1420169.411764706,1344186.176470588,1094874.117647059,997979.5882352941,34722.72727272727,1405364,260994.375,1734791.625,2560066.125,5257203.75,6050821.25,6303018.125,2276622.5,2141994,1976468,1756145,42347,1454300.75,233233.625,1528978.25,2229186.625,4568112.75,5177289.5,5357464.25,1901890,1757461.875,1404062.5,1235498.375,39755.8,1203951.6,199765.6666666667,1303776.444444444,1888040.666666667,3823217.555555556,4347218.111111111,4508370.222222222,1602831.111111111,1504269.333333333,1088017.2,957918.2,15803.57142857143,1706668.166666667,253423.8333333333,1662484.666666667,2411974.166666667,4921971.666666667,5658700.833333333,5920615,2113703.333333333,1983741.5,1600347,1421049.333333333,97867.33333333333,2914634,429648,2169172.25,3234089.75,6663997.5,7740826.5,8118788,2905520,2706069,2171864.5,1919944.25,21874.83333333333,1155329.8,159883.4285714286,963983,1497179.75,3149870.25,3297774.555555556,3475853.777777778,1250020,1181050.666666667,860871.8,771661.3,80461.5,2383099.5,318975,2075223.5,2967391,6007141.25,6860788,7128892.5,2538875,2354173.5,1865698,1629392.25,26885.42857142857,1033330.285714286,156977,1054420.285714286,1555633.285714286,3180976,3656172.571428571,3810808.571428571,1358242.857142857,1271937.428571429,1024030.857142857,910074.1428571428,59250.75,2465401.666666667,361651.6666666667,2366572,3406728.666666667,6895742.666666667,7916645.333333333,8304939.333333333,2979766.666666667,2850934,2334888.666666667,2094497,30512.28571428571,971121.5714285715,144696.5714285714,956298.4285714285,1395988.285714286,2853986.285714286,3288389.714285714,3444817.428571429,1234240,1159850.142857143,935478.2857142857,825701.4285714285,40382.33333333334,1816179.666666667,225958.75,1571826.5,2364812,4916673.25,5715858,5985636.75,2139650,1992817.5,1597192.5,1417378.75,53465.75,2217699.666666667,246674.75,1607378,2296825,4624680.5,5495287.75,5821687.25,2092715,2003340.75,1634063.5,1464336,31944.8,1014130.8,158655.8,1045564.2,1632302.6,3538853.4,4255911.4,4527716.8,1635664,1565213.4,1283715.2,1162643.8,112823,3379529.5,479075,3118557,4505377,9129797.5,10368306.5,10719183.5,3805520,3517170,2807455,1649583.666666667,94555,2819029,446619.5,2566974,2864419.666666667,5850371,6727469,7021089.333333333,2511073.333333333,2359326,1906524.666666667,1692850.333333333,47539.75,1420745,204620.75,1373209.5,2039887.5,4165633.25,4789347.25,5000214.25,1787300,1675338.75,1348895,1200125.5,47985.66666666666,2218798.5,346725.5,2450503.5,3881986,8179664,9645759,10148607,3666300,2973714,2895592,2628783,31839.66666666667,1149120.6,133402,872042.1666666666,1236009.5,2491948.166666667,2894226,3051110.333333333,1088483.333333333,1008140.5,808892.3333333334,711187,77768,1153855.25,131518.8,869391.6,1272294.8,2624742.2,3077079.8,3232263.4,1157584,909808.5,739409.6666666666,663316.8333333334,122980,4108894,607357,3961722,5706870,11520468,13140115,13564491,4806860,4462776,3563448,3131409,112924,3491539,535679,3629196,5447248,11293422,13202036,13915264,5007840,4750827,3840986,3456251,14379.8,679419,106061.8,698491.4,1026699,2100781.8,2418784.8,2546620.4,910516,862009.8,697554.4,617945.4,28542,1013062.5,202806,1415233.5,2261379.5,4847503,5994562,6476654.5,2361580,2284081.5,1892417,1719126,32790,1986140,428776,3112725,4773809,10010958,11804420,12407654,4467480,4288986,3516528,3152437,53054,1636893.5,160502,1054284.666666667,1555714.666666667,3196766.666666667,3662439,3806604,1354073.333333333,1283482,1038636,931346.3333333334,15819.5,546586.6666666666,82021.66666666667,540127.8333333334,784855.8333333334,1589547.833333333,1821945.166666667,1900904.666666667,679056.6666666666,639334.5,518096,463646.8333333333,31223.33333333333,969498.6666666666,147133,975459,1438710.666666667,2982850.333333333,3479174,3670538.333333333,1317960,1246087,1007842.666666667,897932.3333333334,43376.5,1360991,209993.5,1388147.5,2013598.5,4073530.5,4654433,4799257.5,1700390,1574500.5,1262909,1117227.5,63223,2051608,328013,2183353,3276605,6767881,7891033,8280244,2974960,2828295,2305210,2058923,18603.66666666667,703019,112847.6666666667,747371,1096097.333333333,2249062.666666667,2594025,2716755,973073.3333333334,906036,724481.3333333334,640620.3333333334,49467,2099161,312602,2071925,2944178,6467848,7832873,8159952,2902780,2671725,2162060,1902881,40272,2167826,325401,2157566,3200640,6545838,7480790,7771860,2768360,2567454,2053742,1811755,79269,2334139,340330,2220547,3192909,6458159,7348373,7598699,2698420,2509587,2020576,1787977,24201,1072062,171832,1183026,1779479,3716126,4382751,4658522,1681640,1599213,1306354,1174605,21134,1065177,165385,1086017,1593635,3294028,3857326,4053519,1462700,1419882,1156016,1028576,284649,1268930,2734810,3269357,3475960,1257860,1218729,1003072,915939,508092,110569,1433690,1153522,2413701,2869351,3056491,1106280,1061277,870306,784831,7243,1084978,99917,760978,1041029,2164807,2550643,2705938,973280,926406,751758,659802,16399,518760,101871,665002,1004395,2081831,2368925,2547777,925880,901188,736714,651938,16790,690902,103976,682334,990567,2010472,2311688,2386948,843180,776826,616958,544478,458351,84215,556143,798085,1748713,2244444,2444002,922340,872928,718124,637698,17385,631397,96738,642037,936878,1892439,2162411,2228215,787380,726909,585972,513043,458581,73680,487478,714457,1468212,1699066,1787918,642240,605838,487714,432213,395977,70988,470994,696881,1429907,1642729,1701540,610260,576942,468916,418439,12148,388725,58602,374197,532206,1079275,1226672,1268279,450500,420129,337852,301019,480267,1290021,1417845,1444447,507780,458262,356746,307152,44993,305698,485201,1007682,1178769,1241327,448360,424506,344628,308838,3986,162093,33744,236932,386771,846168,1009580,1064555,385320,368052,299346,275771]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>jurisdiction<\/th>\n      <th>year<\/th>\n      <th>Total Profiles<\/th>\n      <th>Offender Profiles<\/th>\n      <th>Arrestee Profiles<\/th>\n      <th>Forensic Profiles<\/th>\n      <th>NDIS Labs<\/th>\n      <th>Investigations Aided<\/th>\n      <th>Forensic Ratio<\/th>\n      <th>Profiles per Lab<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"Bfrtip","buttons":["copy","csv","excel","colvis"],"scrollX":true,"scrollY":"600px","scroller":true,"pageLength":20,"columnDefs":[{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 0, 3, \",\", \".\", null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 0, 3, \",\", \".\", null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 0, 3, \",\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 0, 3, \",\", \".\", null);\n  }"},{"targets":9,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 0, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[2,3,4,5,6,7,8,9]},{"visible":false,"targets":8},{"name":"jurisdiction","targets":0},{"name":"year","targets":1},{"name":"Total Profiles","targets":2},{"name":"Offender Profiles","targets":3},{"name":"Arrestee Profiles","targets":4},{"name":"Forensic Profiles","targets":5},{"name":"NDIS Labs","targets":6},{"name":"Investigations Aided","targets":7},{"name":"Forensic Ratio","targets":8},{"name":"Profiles per Lab","targets":9}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"lengthMenu":[10,20,25,50,100],"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[8]; $(this.api().cell(row, 8).node()).css({'color':isNaN(parseFloat(value)) ? '' : value <= 0.02 ? \"red\" : value <= 0.03 ? \"black\" : \"green\"});\nvar value=data[9]; $(this.api().cell(row, 9).node()).css({'background':isNaN(parseFloat(value)) || value <= 3986.000000 ? '' : 'linear-gradient(90.000000deg, transparent ' + Math.max(44354957.500000 - value, 0)/44350971.500000 * 100 + '%, lightblue ' + Math.max(44354957.500000 - value, 0)/44350971.500000 * 100 + '%)','background-size':'98% 88%','background-repeat':'no-repeat','background-position':'center'});\n}"},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render","options.columnDefs.3.render","options.columnDefs.4.render","options.rowCallback"],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>This project analyzed the growth and evolution of the National DNA Index System (NDIS) by parsing historical snapshots of FBI statistics from the Wayback Machine.</p>
<p><strong>Key Findings</strong></p>
<ol type="1">
<li><p><strong>Exponential Growth of DNA Profiles</strong></p>
<ul>
<li>The NDIS database experienced significant expansion from 2010 to 2025, with total profiles increasing from <strong>8.5 million in 2010</strong> to over <strong>1.1 billion by 2021</strong>.</li>
</ul></li>
<li><p><strong>Jurisdictional Participation</strong></p>
<ul>
<li><p>All 52 U.S. jurisdictions (states and territories) contributed to NDIS, with <strong>California, Texas, and Florida</strong> being the largest contributors.</p></li>
<li><p>The number of participating labs increased over time, indicating broader adoption of DNA forensic capabilities.</p></li>
</ul></li>
<li><p><strong>Policy and Technological Impact</strong></p>
<ul>
<li>The growth in forensic profiles suggests advancements in DNA technology and its integration into law enforcement workflows.</li>
</ul></li>
</ol>
<p><strong>Implications</strong></p>
<ul>
<li><p><strong>Criminal Justice Policy</strong>: The findings underscore how DNA databases have become a cornerstone of modern forensic investigations, aiding in solving cold cases and identifying repeat offenders.</p></li>
<li><p><strong>Privacy &amp; Civil Liberties</strong>: The rapid expansion of arrestee profiles raises ethical questions about mass data collection and its societal implications.</p></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>